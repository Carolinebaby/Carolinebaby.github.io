<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="ç®—æ³•å­¦ä¹ , å›¾">
    
    <meta name="author" content="å¡å¸ƒå»_ç±³è²">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://carolinebaby.github.io/2023/04/08/å›¾/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="å­¦ä¹ å›¾è®ºing">
<meta property="og:type" content="article">
<meta property="og:title" content="å›¾è®ºå­¦ä¹ ">
<meta property="og:url" content="https://carolinebaby.github.io/2023/04/08/%E5%9B%BE/index.html">
<meta property="og:site_name" content="Caroline&#39;s World">
<meta property="og:description" content="å­¦ä¹ å›¾è®ºing">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://carolinebaby.github.io/2023/04/08/%E5%9B%BE/%E5%9B%BE/image-20230401150129944.png">
<meta property="og:image" content="https://carolinebaby.github.io/2023/04/08/%E5%9B%BE/%E5%9B%BE/image-20230401150206160.png">
<meta property="og:image" content="https://carolinebaby.github.io/2023/04/08/%E5%9B%BE/%E5%9B%BE/image-20230401152044989.png">
<meta property="og:image" content="https://carolinebaby.github.io/2023/04/08/%E5%9B%BE/%E5%9B%BE/image-20230401152502884.png">
<meta property="og:image" content="https://carolinebaby.github.io/2023/04/08/%E5%9B%BE/%E5%9B%BE/image-20230401154651336.png">
<meta property="og:image" content="https://carolinebaby.github.io/2023/04/08/%E5%9B%BE/%E5%9B%BE/image-20230401155741189.png">
<meta property="og:image" content="https://pic4.zhimg.com/v2-4f10048ca88fda26f03cf38074b3a8bb_b.jpg">
<meta property="og:image" content="https://pic1.zhimg.com/v2-a4a9a98ff20adfd0d027013610ebc5e4_r.jpg">
<meta property="og:image" content="https://cdn.acwing.com/media/article/image/2022/03/07/64858_2a411f1d9e-floyd%E6%80%BB%E6%89%8E.png">
<meta property="og:image" content="https://carolinebaby.github.io/2023/04/08/%E5%9B%BE/%E5%9B%BE/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F.png">
<meta property="og:image" content="https://pic2.zhimg.com/v2-77e41054d2ea49e8f61ce8d98fa3c20d_b.jpg">
<meta property="og:image" content="https://assets.leetcode.com/uploads/2020/08/26/d.png">
<meta property="og:image" content="https://pic.leetcode-cn.com/1611023745-EuGMdh-image.png">
<meta property="og:image" content="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/07/12/1558_ex1.png">
<meta property="og:image" content="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/07/12/1558_ex2.png">
<meta property="og:image" content="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/07/12/1558_ex3.png">
<meta property="og:image" content="https://pic2.zhimg.com/v2-558540e634e5537df60a0f61bfa1829d_b.jpg">
<meta property="og:image" content="https://cdn.vijos.org/fs/1557c96115c93850f07546ed228ba7797f616190">
<meta property="og:image" content="https://pic2.zhimg.com/v2-c7cd484003b71bf480546ac21fd19669_b.jpg">
<meta property="og:image" content="https://pic2.zhimg.com/v2-94394273ebce1f9cfd2ee50dfd1f22e1_b.jpg">
<meta property="og:image" content="https://pic4.zhimg.com/v2-952b78faeed7a68af4349357e34efe8f_b.jpg">
<meta property="article:published_time" content="2023-04-08T01:54:55.000Z">
<meta property="article:modified_time" content="2023-05-13T08:33:36.976Z">
<meta property="article:author" content="Caroline">
<meta property="article:tag" content="ç®—æ³•å­¦ä¹ ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://carolinebaby.github.io/2023/04/08/%E5%9B%BE/%E5%9B%BE/image-20230401150129944.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/favicon.ico" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
    <meta name="theme-color" content="#0072BC">
    <link rel="shortcut icon" href="/images/favicon.ico">
    <!--- Page Info-->
    
    <title>
        
            å›¾è®ºå­¦ä¹  -
        
        å¡å¸ƒå»_ç±³è²çš„ä¸–ç•Œ
    </title>

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    
        <style>
    :root {
        --preloader-background-color: #fff;
        --preloader-text-color: #000;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --preloader-background-color: #202124;
            --preloader-text-color: #fff;
        }
    }

    @media (prefers-color-scheme: light) {
        :root {
            --preloader-background-color: #fff;
            --preloader-text-color: #000;
        }
    }

    @media (max-width: 600px) {
        .ml13 {
            font-size: 2.6rem !important; /* Adjust this value as needed */
        }
    }

    .preloader {
        display: flex;
        flex-direction: column;
        gap: 1rem; /* Tailwind 'gap-4' is 1rem */
        align-items: center;
        justify-content: center;
        position: fixed;
        padding: 12px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100vw;
        height: 100vh; /* 'h-screen' is 100% of the viewport height */
        background-color: var(--preloader-background-color);
        z-index: 1100; /* 'z-[1100]' sets the z-index */
        transition: opacity 0.2s ease-in-out;
    }

    .ml13 {
        font-size: 3.2rem;
        /* text-transform: uppercase; */
        color: var(--preloader-text-color);
        letter-spacing: -1px;
        font-weight: 500;
        font-family: 'Chillax-Variable', sans-serif;
        text-align: center;
    }

    .ml13 .word {
        display: inline-flex;
        flex-wrap: wrap;
        white-space: nowrap;
    }

    .ml13 .letter {
        display: inline-block;
        line-height: 1em;
    }
</style>

<div class="preloader">
    
<script src="/js/libs/anime.min.js"></script>

    <h1 class="ml13">
        å¡å¸ƒå»_ç±³è²çš„ä¸–ç•Œ
    </h1>
    <script>
        var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });


        anime.timeline({loop: true})
            .add({
                targets: '.ml13 .letter',
                translateY: [100,0],
                translateZ: 0,
                opacity: [0,1],
                easing: "easeOutExpo",
                duration: 1400,
                delay: (el, i) => 300 + 30 * i
            }).add({
            targets: '.ml13 .letter',
            translateY: [0,-100],
            opacity: [1,0],
            easing: "easeInExpo",
            duration: 1200,
            delay: (el, i) => 100 + 30 * i
        });

        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            hidePreloaderAfterTimeout(1000); // Hide after 1000 milliseconds once the window has loaded
        });

        // Backup failsafe: Hide preloader after a maximum of 5000 milliseconds, regardless of the window load event
        hidePreloaderAfterTimeout(5000);

        function hidePreloaderAfterTimeout(delay) {
            setTimeout(function () {
                var preloader = document.querySelector('.preloader');
                preloader.style.opacity = '0';
                setTimeout(function () {
                    preloader.style.display = 'none';
                }, 200);
            }, delay);
        }
    </script>
</div>
    

    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/assets/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    <!--- Font Part-->
    
    
    
    


    <script id="hexo-configurations">
    window.config = {"hostname":"carolinebaby.github.io","root":"/","language":"en"};
    window.theme = {"articles":{"style":{"font_size":"18px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"title_alignment":"left","headings_top_spacing":{"h1":"5rem","h2":"4rem","h3":"2.8rem","h4":"2.5rem","h5":"2.2rem","h6":"2rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"recommendation":{"enable":false,"title":"æ¨èé˜…è¯»","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#0072BC","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"https://cdn.dynamicwallpaper.club/wallpapers/0lt9t1k10ae/thumbs/1600/2.jpg","dark":"https://cdn.dynamicwallpaper.club/wallpapers/0lt9t1k10ae/thumbs/1600/5.jpg"},"title":"Welcome to Caroline's world!","subtitle":{"text":["è¿™é‡Œæ˜¯ å¡å¸ƒå»_ç±³è² çš„ä¸–ç•Œï¼"],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"style":"default","links":{"github":"https://github.com/Carolinebaby","instagram":null,"zhihu":null,"twitter":null,"email":"1474396199@qq.com"},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.6.1","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Blog":"https://carolinebaby.github.io/","Github":"https://github.com/Carolinebaby"}}},"search":{"enable":false,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":"Hi~Welcome~","show_on_mobile":true,"links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Tags":{"path":"/tags","icon":"fa-regular fa-tags"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"},"shuoshuo":{"path":"/shuoshuo","icon":"fa-regular fa-comment-dots"}}},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2023/4/8 08:29:29"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 7.1.1"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
<!--        <span class="swup-progress-icon">-->
<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
<!--        </span>-->
    
</div>


<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container px-6 md:px-12">

    <div class="navbar-content ">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/charlie3.jpg">
                </a>
            
            <a class="logo-title" href="/">
                
                å¡å¸ƒå»_ç±³è²çš„ä¸–ç•Œ
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    ARCHIVES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-regular fa-user fa-fw"></i>
                                    ABOUT
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a href="/about">
                                                    ME
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a href="https://carolinebaby.github.io/">
                                                    BLOG
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://github.com/Carolinebaby">
                                                    GITHUB
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/archives"
                        >
                            <span>
                                ARCHIVES
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-About"
                        >
                            <span>
                                ABOUT
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/about">ME</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="https://carolinebaby.github.io/">BLOG</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://github.com/Carolinebaby">GITHUB</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            

            
            
                
                    
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/tags"
                        >
                            <span>Tags</span>
                            <i class="fa-regular fa-tags fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/categories"
                        >
                            <span>Categories</span>
                            <i class="fa-regular fa-folder fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/shuoshuo"
                        >
                            <span>Shuoshuo</span>
                            <i class="fa-regular fa-comment-dots fa-sm fa-fw"></i>
                        </a>
                    </li>
                
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">4</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">3</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">16</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container flex relative justify-between box-border w-full h-full">
    <div class="article-content-container">

        <div class="article-title relative w-full">
            
                <div class="w-full flex items-center pt-6 justify-start">
                    <h1 class="article-title-regular text-second-text-color text-4xl md:text-6xl font-bold px-2 sm:px-6 md:px-8 py-3">å›¾è®ºå­¦ä¹ </h1>
                </div>
            
            </div>

        
            <div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="/images/QQ%E5%A4%B4%E5%83%8F.jpg">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">å¡å¸ƒå»_ç±³è²</span>
                        
                            <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv3</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-04-08 09:54:55</span>
        <span class="mobile">2023-04-08 09:54:55</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-05-13 16:33:36</span>
            <span class="mobile">2023-05-13 16:33:36</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/">ç®—æ³•å­¦ä¹ </a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/">ç®—æ³•å­¦ä¹ </a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
            <p><strong>å›¾è®º</strong></p>
<ul>
<li>åŸºç¡€ï¼šDFSï¼ŒBFS</li>
<li>ç®€å•ï¼šæ‹“æ‰‘æ’åºï¼Œæœ‰å‘æ— ç¯å›¾ï¼Œæœ€çŸ­è·¯ï¼Œå¹¶æŸ¥é›†ï¼Œæœ€å°ç”Ÿæˆæ ‘</li>
<li>ä¸­ç­‰ï¼šç½‘ç»œæµï¼Œtarjan ç®—æ³•ï¼Œæ ‘ä¸ŠæŠ€æœ¯</li>
<li>è‹¦éš¾ï¼šä»™äººæŒé—®é¢˜ï¼Œå»ºå›¾</li>
</ul>
<span id="more"></span>

<h2 id="å›¾çš„å®šä¹‰å’Œæ¦‚å¿µğŸ§"><a href="#å›¾çš„å®šä¹‰å’Œæ¦‚å¿µğŸ§" class="headerlink" title="å›¾çš„å®šä¹‰å’Œæ¦‚å¿µğŸ§"></a>å›¾çš„å®šä¹‰å’Œæ¦‚å¿µğŸ§</h2><ul>
<li>å›¾å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªäºŒå…ƒç»„G &#x3D; &lt;V, E&gt;ï¼Œå…¶ä¸­<ul>
<li>V è¡¨ç¤ºéç©ºé¡¶ç‚¹é›†ï¼Œå…¶å…ƒç´ ç§°ä¸ºé¡¶ç‚¹ï¼ˆVertexï¼‰</li>
<li>E è¡¨ç¤ºè¾¹é›†ï¼Œå…¶å…ƒç´ ç§°ä¸ºè¾¹ï¼ˆEdgeï¼‰</li>
</ul>
</li>
<li>e &#x3D; (u, v) è¡¨ç¤ºä¸€æ¡è¾¹ï¼Œå…¶ä¸­ uâˆˆV, vâˆˆV, eâˆˆE</li>
</ul>
<p><strong>åˆ†ç±»</strong></p>
<ul>
<li>æ— å‘å›¾ $G_1 &#x3D;&lt; V_1, E_1 &gt;$</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="å›¾/image-20230401150129944.png"
                      alt="image-20230401150129944" style="zoom: 67%;" 
                >

<ul>
<li>æœ‰å‘å›¾ $G_2 &#x3D;&lt; V_2, E_2 &gt;$</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="å›¾/image-20230401150206160.png"
                      alt="image-20230401150206160" style="zoom:67%;" 
                >



<p>ç›¸é‚»ï¼ˆAdjacentï¼‰ï¼šè¾¹(u, v) è¿æ¥çš„é¡¶ç‚¹uå’Œvç›¸é‚»</p>
<p>å…³è”ï¼ˆIncidentï¼‰ï¼šè¾¹(u, v) å’Œå…¶è¿æ¥çš„é¡¶ç‚¹u(æˆ–v)ç›¸äº’å…³è”</p>
<p><strong>åº¦</strong></p>
<ul>
<li><p>é¡¶ç‚¹çš„åº¦ï¼ˆDegree of a Vertexï¼‰</p>
<p>é¡¶ç‚¹v çš„åº¦ deg(v) æ˜¯ v å…³è”çš„è¾¹æ•°</p>
</li>
<li><p>å›¾çš„åº¦ï¼ˆDegree of a Graphï¼‰</p>
<p>å›¾ G &#x3D; &lt;V, E&gt; çš„åº¦ï¼Œæ˜¯å›¾å„é¡¶ç‚¹çš„åº¦ä¹‹å’Œï¼Œ$deg(G) &#x3D; âˆ‘_{vâˆˆV}deg(v)$  </p>
</li>
<li><p>æ¡æ‰‹å®šç†</p>
<p>æ— å‘å›¾çš„åº¦æ˜¯è¾¹æ•°çš„ä¸¤å€ï¼Œdeg(E) &#x3D; 2|E|</p>
</li>
<li><p>åœ¨æ— å‘å›¾ä¸­ï¼Œã€Œåº¦ã€å°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹ç›¸è¿çš„è¾¹çš„æ¡æ•°ã€‚ç”±äºæœ‰å‘å›¾çš„è¾¹æœ‰æ–¹å‘ï¼Œæ‰€ä»¥æœ‰å‘å›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹ã€Œåº¦ã€è¢«ç»†åˆ†ä¸º<strong>å…¥åº¦</strong>ï¼ˆindegreeï¼‰å’Œ<strong>å‡ºåº¦</strong>ï¼ˆoutdegreeï¼‰</p>
</li>
</ul>
<p><strong>è·¯å¾„ï¼ˆPathï¼‰</strong></p>
<ul>
<li>å›¾ä¸­ä¸€ä¸ªé¡¶ç‚¹åºåˆ—$&lt;v_0, v_1, â€¦, v_k&gt;$ ç§°ä¸º $v_0$ åˆ° $v_k$ çš„è·¯å¾„</li>
<li>è·¯åŠ²åŒ…å«é¡¶ç‚¹$v_0, v_1, â€¦, v_k$ å’Œè¾¹$(v_0, v_1),(v_1,v_2),â€¦,(v_{k-1}, v_k)$</li>
<li>å­˜åœ¨è·¯å¾„$v_0, v_1, â€¦, v_k$ ï¼Œåˆ™ $v_0$ å¯åˆ°è¾¾ $v_k$</li>
<li>å¦‚æœ $v_0, v_1, â€¦, v_k$ äº’ä¸ç›¸åŒï¼Œåˆ™è¯¥è·¯å¾„æ˜¯ç®€å•çš„</li>
</ul>
<p><strong>ç¯è·¯ï¼ˆCycleï¼‰</strong></p>
<ul>
<li>å¦‚æœè·¯å¾„$&lt;v_0, v_1, â€¦, v_k&gt;$ ä¸­ $v_0 &#x3D; v_k$ä¸”è‡³å°‘åŒ…å«ä¸€æ¡è¾¹ï¼Œåˆ™è¯¥è·¯å¾„æ„æˆç¯è·¯</li>
<li>å¦‚æœ $v_0, v_1, â€¦, v_k$ äº’ä¸ç›¸åŒï¼Œåˆ™è¯¥ç¯è·¯æ˜¯ç®€å•çš„</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="å›¾/image-20230401152044989.png"
                      alt="image-20230401152044989" style="zoom:33%;" 
                >

<p><strong>è¿é€šï¼ˆConnectivityï¼‰</strong></p>
<ul>
<li>å¦‚æœå›¾çš„ä»»æ„å¯¹é¡¶ç‚¹ç›¸äº’å¯è¾¾ï¼Œåˆ™ç§°è¯¥å›¾æ˜¯è¿é€šçš„ï¼Œåä¹‹ç§°ä¸ºéè”é€š</li>
<li>è¿é€šåˆ†é‡ï¼ˆConnected Componentsï¼‰æ ¹æ®æ˜¯å¦è¿é€šå°†é¡¶ç‚¹è¿›è¡Œåˆ†ç»„ï¼Œç›¸äº’å¯è¾¾çš„é¡¶ç‚¹é›†ç§°ä¸ºè¿é€šåˆ†é‡</li>
</ul>
<p><strong>å­å›¾ï¼ˆSubgraphï¼‰</strong></p>
<p>å¦‚æœğ‘½â€² âŠ† ğ‘½, ğ‘¬â€² âŠ† ğ„ï¼Œåˆ™ç§°å›¾ğ‘®â€™ &#x3D;&lt; ğ‘½â€™, ğ‘¬â€™ &gt;æ˜¯å›¾ğ‘®çš„ä¸€ä¸ªå­å›¾</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="å›¾/image-20230401152502884.png"
                      alt="image-20230401152502884" style="zoom: 33%;" 
                >

<p><strong>æ ‘ï¼ˆTreeï¼‰</strong>ï¼šè¿é€šã€æ— ç¯å›¾ğ‘» &#x3D;&lt; ğ‘½ğ‘», ğ‘¬ğ‘» &gt;ï¼Œæ ‘æœ‰|ğ‘½ğ‘»| âˆ’ ğŸæ¡è¾¹</p>
<p><strong>æ£®æ—ï¼ˆForestï¼‰</strong>ï¼šä¸€è‡³å¤šæ£µæ ‘ç»„æˆçš„æ— ç¯å›¾</p>
<p><strong>å›¾çš„è¡¨ç¤º</strong></p>
<p><strong>é‚»æ¥é“¾è¡¨</strong></p>
<ul>
<li><p>å›¾ğ‘® &#x3D;&lt; ğ‘½, ğ‘¬ &gt; ï¼Œå…¶é‚»æ¥é“¾è¡¨ç”±|ğ‘½|æ¡é“¾è¡¨çš„æ•°ç»„æ„æˆ</p>
</li>
<li><p>æ¯ä¸ªé¡¶ç‚¹æœ‰ä¸€æ¡é“¾è¡¨ï¼ŒåŒ…å«æ‰€æœ‰ä¸å…¶ç›¸é‚»çš„é¡¶ç‚¹</p>
<p>ğ‘¨ğ’…ğ’‹[ğ’‚] &#x3D; {ğ’ƒ, ğ’…} ; ğ‘¨ğ’…ğ’‹[ğ’ƒ] &#x3D; {ğ’‚, ğ’„, ğ’…, ğ’‡} ; ğ‘¨ğ’…ğ’‹[ğ’„] &#x3D; {ğ’ƒ, ğ’‡}; â€¦</p>
</li>
<li><p>ç©ºé—´å¤§å° ğ‘¶(|ğ‘½| + |ğ‘¬|)</p>
</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="å›¾/image-20230401154651336.png"
                      alt="image-20230401154651336" style="zoom:50%;" 
                >

<p><strong>é‚»æ¥çŸ©é˜µ</strong></p>
<ul>
<li><p>å›¾ğ‘® &#x3D;&lt; ğ‘½, ğ‘¬ &gt; çš„é‚»æ¥çŸ©é˜µç”± ğ‘½ Ã— |ğ‘½|çš„äºŒç»´æ•°ç»„ğ‘¨æ„æˆï¼Œæ»¡è¶³ï¼š<br>$A_{ij}&#x3D;\begin{cases}1,&amp;{(i,j)âˆˆE}\0,&amp; {(i,j)âˆ‰E}\end{cases}$ </p>
</li>
<li><p>ç©ºé—´å¤§å°ğ‘¶( $|V|^2$)ï¼Œ ğ‘¶(ğŸ)åˆ¤æ–­æ˜¯å¦æœ‰è¾¹</p>
</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="å›¾/image-20230401155741189.png"
                      alt="image-20230401155741189" style="zoom:50%;" 
                >



<h2 id="å›¾çš„ç®—æ³•é¢˜-ğŸ¤”"><a href="#å›¾çš„ç®—æ³•é¢˜-ğŸ¤”" class="headerlink" title="å›¾çš„ç®—æ³•é¢˜ ğŸ¤”"></a>å›¾çš„ç®—æ³•é¢˜ ğŸ¤”</h2><table>
<thead>
<tr>
<th>ç‰¹ç‚¹</th>
<th>é¢˜ç›®</th>
<th>é¢˜è§£</th>
<th>éš¾åº¦</th>
</tr>
</thead>
<tbody><tr>
<td>ğŸ§åŸºç¡€</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/all-paths-from--to-target/" >åŠ›æ‰£797.æ‰€æœ‰å¯èƒ½çš„è·¯å¾„ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td></td>
<td>ğŸ˜</td>
</tr>
<tr>
<td>â­æ‹“æ‰‘æ’åº<br />æ·±æœdfs+å¹¿æœbfs</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/course-schedule/description/" >åŠ›æ‰£207.è¯¾ç¨‹è¡¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/course-schedule/solutions/359392/ke-cheng-biao-by-leetcode-solution/?orderBy=most_votes&languageTags=cpp" >å®˜æ–¹é¢˜è§£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ğŸ‘</td>
<td>ğŸ˜”</td>
</tr>
<tr>
<td>â­äºŒåˆ†å›¾åˆ¤å®šç®—æ³•</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/is-graph-bipartite/?utm_=LCUS&utm_medium=ip_redirect&utm_campaign=transfer2china" >åŠ›æ‰£785.åˆ¤æ–­äºŒåˆ†å›¾ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td></td>
<td>ğŸ˜</td>
</tr>
<tr>
<td>â­å¹¶æŸ¥é›†</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/surrounded-regions/" >åŠ›æ‰£130.è¢«å›´ç»•çš„åŒºåŸŸ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/surrounded-regions/solutions/369110/bei-wei-rao-de-qu-yu-by-leetcode-solution/?orderBy=most_votes&languageTags=cpp" >å®˜æ–¹é¢˜è§£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> ğŸ‘</td>
<td>ğŸ˜”</td>
</tr>
<tr>
<td>â­å¹¶æŸ¥é›†</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/number-of-provinces/" >åŠ›æ‰£547.çœä»½æ•°é‡ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td></td>
<td>ğŸ˜</td>
</tr>
<tr>
<td>â­æœ€å°ç”Ÿæˆæ ‘<br /> Kruskalç®—æ³•ã€Primç®—æ³•</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/min-cost-to-connect-all-points/" >åŠ›æ‰£1584. è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/min-cost-to-connect-all-points/solutions/565990/prim-and-kruskal-by-yexiso-c500/?orderBy=most_votes" >å¤§ä½¬é¢˜è§£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> âœŒ</td>
<td>ğŸ˜¢<br />â±â—</td>
</tr>
<tr>
<td>â­Dijkstra ç®—æ³•<br />â­SPFA ç®—æ³•<br />â­æœ€çŸ­è·¯</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-with-maximum-probability/description/" >åŠ›æ‰£1514.æ¦‚ç‡æœ€å¤§çš„è·¯å¾„ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-with-maximum-probability/solutions/371278/gai-lu-zui-da-de-lu-jing-by-leetcode-solution/?orderBy=most_votes" >å®˜æ–¹é¢˜è§£ï¼šDijkstraç®—æ³• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> <br /> <a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-with-maximum-probability/solutions/871165/spfa-qiu-zui-duan-lu-ji-bai-jie-jin-100-p2pcs/?q=100&orderBy=most_relevant&languageTags=cpp" >å¤§ä½¬SPFAç®—æ³• <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td>ğŸ˜¢</td>
</tr>
<tr>
<td>â­æœ€çŸ­è·¯</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/network-delay-time/" >åŠ›æ‰£743.ç½‘ç»œå»¶è¿Ÿæ—¶é—´ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td></td>
<td>ğŸ˜”</td>
</tr>
<tr>
<td>â­æœ€å°ä½“åŠ›æ¶ˆè€—è·¯å¾„</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-with-minimum-effort/" >åŠ›æ‰£1631.æœ€å°ä½“åŠ›æ¶ˆè€—è·¯å¾„ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-with-minimum-effort/solutions/459765/zui-xiao-ti-li-xiao-hao-lu-jing-by-zerotrac2/?orderBy=most_votes" >å¤§ä½¬é¢˜è§£ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> âœŒğŸ‘<br />(äºŒåˆ†,å¹¶æŸ¥,æœ€çŸ­è·¯)</td>
<td>ğŸ¤¯</td>
</tr>
<tr>
<td>â­Floydç®—æ³•</td>
<td><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/345/" >343.æ’åº <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="å›¾ç®—æ³•ç»å…¸é—®é¢˜ğŸ““"><a href="#å›¾ç®—æ³•ç»å…¸é—®é¢˜ğŸ““" class="headerlink" title="å›¾ç®—æ³•ç»å…¸é—®é¢˜ğŸ““"></a>å›¾ç®—æ³•ç»å…¸é—®é¢˜ğŸ““</h2><h3 id="dfsæ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#dfsæ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="dfsæ·±åº¦ä¼˜å…ˆæœç´¢"></a>dfsæ·±åº¦ä¼˜å…ˆæœç´¢</h3><p>å…·ä½“ç®—æ³•æè¿°ï¼š</p>
<p>é€‰æ‹©ä¸€ä¸ªèµ·å§‹ç‚¹ u ä½œä¸º å½“å‰èŠ‚ç‚¹ï¼Œæ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<ol>
<li>è®¿é—® å½“å‰èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ ‡è®°å½“å‰èŠ‚ç‚¹å·²è¢«è®¿é—®ï¼Œç„¶åè·³è½¬åˆ° b</li>
<li>å¦‚æœå­˜åœ¨ä¸€ä¸ªå’Œ å½“å‰èŠ‚ç‚¹ ç›¸é‚»ä¸”å°šæœªè¢«è®¿é—®çš„èŠ‚ç‚¹ vï¼Œåˆ™å°† v è®¾ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œç»§ç»­æ‰§è¡Œa</li>
<li>å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ vï¼Œåˆ™è¿›è¡Œå›æº¯ï¼Œå›æº¯çš„è¿‡ç¨‹å°±æ˜¯å›é€€ å½“å‰èŠ‚ç‚¹</li>
</ol>
<p>ä¸Šè¿°æ‰€è¯´çš„ å½“å‰èŠ‚ç‚¹ éœ€è¦ç”¨ä¸€ä¸ªæ ˆæ¥ç»´æŠ¤ï¼Œæ¯æ¬¡è®¿é—®åˆ°çš„èŠ‚ç‚¹å…¥æ ˆï¼Œå›æº¯çš„æ—¶å€™å‡ºæ ˆã€‚é™¤äº†æ ˆï¼Œå¦ä¸€ç§å®ç°æ·±åº¦ä¼˜å…ˆæœç´¢çš„æ–¹å¼æ˜¯ <strong>é€’å½’</strong>ï¼Œä»£ç æ›´åŠ ç®€å•ï¼Œç›¸å¯¹å¥½ç†è§£ã€‚</p>
<h3 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h3><p>å®šä¹‰ï¼šç»™å®šä¸€ä¸ªåŒ…å« n ä¸ªèŠ‚ç‚¹çš„æœ‰å‘å›¾ Gï¼Œæˆ‘ä»¬ç»™å‡ºå®ƒçš„èŠ‚ç‚¹ç¼–å·çš„ä¸€ç§æ’åºï¼Œå¦‚æœæ»¡è¶³ï¼š<code>å¯¹äºå›¾Gä¸­çš„ä»»æ„ä¸€æ¡æœ‰å‘è¾¹(u, v)ï¼Œuåœ¨æ’åˆ—ä¸­éƒ½å‡ºç°åœ¨ v çš„å‰é¢</code>ã€‚é‚£ä¹ˆç§°è¯¥æ’åˆ—æ˜¯å›¾ G çš„<code>æ‹“æ‰‘æ’åº</code> ã€‚</p>
<p>ç»“è®ºï¼š</p>
<ul>
<li>å¦‚æœå›¾Gä¸­å­˜åœ¨ç¯ (å³å›¾Gä¸æ˜¯<code>æœ‰å‘æ— ç¯å›¾</code>) ï¼Œé‚£ä¹ˆå›¾G ä¸å­˜åœ¨æ‹“æ‰‘æ’åºã€‚è¿™æ˜¯å› ä¸ºå‡è®¾å›¾ä¸­å­˜åœ¨ç¯ $x_1,x_2,â€¦,x_n,x_1$ï¼Œé‚£ä¹ˆ $x_1$åœ¨æ’åˆ—ä¸­å¿…é¡»å‡ºç°åœ¨ $x_n$çš„å‰é¢ï¼Œä½†$x_n$åŒæ—¶ä¹Ÿå¿…é¡»å‡ºç°åœ¨$x_1$å‰é¢ï¼Œå› æ­¤ä¸å­˜åœ¨ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„æ’åˆ—ï¼Œä¹Ÿå°±ä¸å­˜åœ¨æ‹“æ‰‘æ’åº</li>
<li>å¦‚æœå›¾Gæ˜¯æœ‰å‘æ— ç¯å›¾ï¼Œé‚£ä¹ˆå®ƒçš„æ‹“æ‰‘æ’åºå¯èƒ½ä¸æ­¢ä¸€ç§ã€‚ä¸¾ä¸€ä¸ªæœ€æç«¯çš„ä¾‹å­ï¼Œå¦‚æœå›¾GåªåŒ…å«nä¸ªèŠ‚ç‚¹å´æ²¡æœ‰ä»»ä½•è¾¹ï¼Œé‚£ä¹ˆä»»æ„ä¸€ç§ç¼–å·çš„æ’åˆ—éƒ½å¯ä»¥ä½œä¸ºæ‹“æ‰‘æ’åºã€‚</li>
</ul>
<p>ğŸ¤–æ‹“æ‰‘æ’åºçš„æ¡†æ¶ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; adj[<span class="number">100001</span>];</span><br><span class="line"><span class="type">int</span> inDegree[<span class="number">100001</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">topologicalSort</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (inDegree[i] == <span class="number">0</span>) &#123; </span><br><span class="line">            q.<span class="built_in">push</span>(i);<span class="comment">//å…ˆå°†å…¥åº¦ä¸º 0 çš„ç‚¹å…¨éƒ¨å…¥é˜Ÿ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> u = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        cout &lt;&lt; u &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> v : adj[u]) &#123;</span><br><span class="line">            inDegree[v]--;</span><br><span class="line">            <span class="keyword">if</span> (inDegree[v] == <span class="number">0</span>)&#123;</span><br><span class="line">                q.<span class="built_in">push</span>(v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; i++) &#123;</span><br><span class="line">        <span class="type">int</span> u, v;</span><br><span class="line">        cin &gt;&gt; u &gt;&gt; v;</span><br><span class="line">        adj[u].<span class="built_in">push_back</span>(v);</span><br><span class="line">        inDegree[v]++; <span class="comment">//u æŒ‡å‘ vï¼Œåˆ™ v çš„å…¥åº¦åŠ  1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">topologicalSort</span>(n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="äºŒåˆ†å›¾"><a href="#äºŒåˆ†å›¾" class="headerlink" title="äºŒåˆ†å›¾"></a>äºŒåˆ†å›¾</h3><p>äºŒåˆ†å›¾ï¼šäºŒåˆ†å›¾çš„é¡¶ç‚¹é›†å¯åˆ†å‰²ä¸º <strong>ä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†</strong>ï¼Œå›¾ä¸­ æ¯æ¡è¾¹ ä¾é™„çš„ä¸¤ä¸ªé¡¶ç‚¹ éƒ½åˆ†å±äºè¿™ä¸¤ä¸ªå­é›†ï¼Œä¸”ä¸¤ä¸ªå­é›†å†…çš„é¡¶ç‚¹ä¸ç›¸é‚»ã€‚</p>
<p>é—®é¢˜è½¬æ¢ï¼šå›¾çš„ [åŒè‰²é—®é¢˜]</p>
<h3 id="åŒˆç‰™åˆ©ç®—æ³•"><a href="#åŒˆç‰™åˆ©ç®—æ³•" class="headerlink" title="åŒˆç‰™åˆ©ç®—æ³•"></a>åŒˆç‰™åˆ©ç®—æ³•</h3><p>åŒˆç‰™åˆ©ç®—æ³•ï¼Œå³å›¾è®ºä¸­å¯»æ‰¾æœ€å¤§åŒ¹é…çš„ç®—æ³•ï¼Œä¸»è¦ç”¨äºè§£å†³ä¸€äº›äºŒåˆ†å›¾åŒ¹é…æœ‰å…³çš„é—®é¢˜ã€‚</p>
<h4 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h4><p><strong>åŒ¹é…</strong>ï¼šåŒ¹é…æ˜¯è¾¹çš„é›†åˆï¼Œåœ¨é›†åˆä¸­ï¼Œä»»æ„ä¸¤æ¡è¾¹ä¸èƒ½æœ‰å…±åŒçš„é¡¶ç‚¹ã€‚</p>
<p><strong>æœ€å¤§åŒ¹é…</strong>ï¼šæœ€å¤§åŒ¹é…çš„è¾¹æ•°ç§°ä¸ºæœ€å¤§åŒ¹é…ã€‚</p>
<p><strong>å®Œç¾åŒ¹é…</strong>ï¼šå¦‚æœä¸€ä¸ªåŒ¹é…ä¸­ï¼Œæ¯ä¸ªé¡¶ç‚¹éƒ½å’Œå›¾ä¸­æŸæ¡è¾¹å…³è”ï¼Œåˆ™ç§°æ­¤ä¸ºå®Œç¾åŒ¹é…ã€‚ä¸¤ä¸ªé›†åˆèƒ½ ä¸€ ä¸€ æ˜ å°„ã€‚</p>
<p><strong>æœ€ä¼˜åŒ¹é…</strong>ï¼ˆå¸¦æƒæœ€å¤§åŒ¹é…ï¼‰ï¼šåœ¨å¸¦æœ‰æƒå€¼è¾¹çš„äºŒåˆ†å›¾ä¸­ï¼Œæ±‚ä¸€ä¸ªåŒ¹é…ä½¿å¾—åŒ¹é…è¾¹ä¸Šçš„æƒå€¼å’Œæœ€å¤§ã€‚KMç®—æ³•æ˜¯ä¸€ç§è§£å†³äºŒåˆ†å›¾æœ€å¤§æƒåŒ¹é…é—®é¢˜çš„ç®—æ³•ï¼Œä¹Ÿç§°ä¸ºåŒˆç‰™åˆ©ç®—æ³•çš„ä¼˜åŒ–ç‰ˆã€‚</p>
<p><strong>æœ€å°è¦†ç›–</strong>ï¼šæœ€å°è¦†ç›–åˆ†ä¸º <strong>æœ€å°é¡¶ç‚¹è¦†ç›–</strong> å’Œ <strong>æœ€å°è·¯å¾„è¦†ç›–</strong> ï¼š</p>
<ul>
<li>æœ€å°é¡¶ç‚¹è¦†ç›–æ˜¯æŒ‡ æœ€å°‘çš„é¡¶ç‚¹æ•° ä½¿å¾— äºŒåˆ†å›¾Gçš„æ¯æ¡è¾¹éƒ½è‡³å°‘ä¸å…¶ä¸­çš„ä¸€ä¸ªç‚¹å…³è”ï¼ŒäºŒåˆ†å›¾çš„<strong>æœ€å°é¡¶ç‚¹è¦†ç›–æ•° ç­‰äº äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°</strong>ã€‚</li>
<li>æœ€å°è·¯å¾„è¦†ç›– ä¹Ÿæˆä¸º æœ€å°è¾¹è¦†ç›–ï¼Œæ˜¯æŒ‡ç”¨å°½é‡å°‘çš„ä¸ç›¸äº¤çš„ç®€å•è·¯å¾„è¦†ç›–äºŒåˆ†å›¾ä¸­æ‰€æœ‰çš„é¡¶ç‚¹ã€‚<strong>äºŒåˆ†å›¾çš„æœ€å°è·¯å¾„è¦†ç›–æ•° &#x3D; é¡¶ç‚¹æ•° - äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°</strong>ã€‚</li>
</ul>
<p><strong>æœ€å¤§ç‹¬ç«‹é›†</strong>ï¼šå¯»æ‰¾ä¸€ä¸ªç‚¹é›†ï¼Œä½¿å¾—å…¶ä¸­ä»»æ„ä¸¤ç‚¹åœ¨å›¾ä¸­æ— å¯¹åº”è¾¹ã€‚å¯¹äºä¸€èˆ¬å›¾æ¥è¯´ï¼Œæœ€å¤§ç‹¬ç«‹é›†æ˜¯ä¸€ä¸ª NPå®Œå…¨é—®é¢˜ï¼Œå¯¹äºäºŒåˆ†å›¾æ¥è¯´ï¼š<strong>æœ€å¤§ç‹¬ç«‹é›† &#x3D; å®šç‚¹æ•° - äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°</strong>ã€‚</p>
<p><strong>äº¤æ›¿è·¯</strong>ï¼šå¦‚æœä¸€æ¡è·¯å¾„çš„ç¬¬ä¸€æ¡è¾¹æ˜¯åŒ¹é…è¾¹ï¼Œé‚£ä¹ˆç¬¬äºŒæ¡è¾¹å°±å¿…é¡»æ˜¯éåŒ¹é…è¾¹ï¼Œç¬¬ä¸‰æ¡è¾¹åˆå¿…é¡»æ˜¯åŒ¹é…è¾¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™æ ·çš„è·¯å¾„è¢«ç§°ä¸ºäº¤æ›¿è·¯ã€‚</p>
<p><strong>å¢å¹¿è·¯</strong>ï¼ˆå¢å¹¿è½¨ æˆ– äº¤é”™è½¨ï¼‰ï¼šæŒ‡ä¸€æ¡ä»æœªåŒ¹é…çš„å·¦ä¾§é¡¶ç‚¹å‡ºå‘ï¼Œç»è¿‡ä¸€ç³»åˆ—äº¤æ›¿çš„åŒ¹é…è¾¹å’ŒéåŒ¹é…è¾¹ï¼Œæœ€ç»ˆåˆ°è¾¾æœªåŒ¹é…çš„å³ä¾§é¡¶ç‚¹çš„è·¯å¾„ã€‚å…·ä½“æ¥è¯´ï¼Œå¢å¹¿è·¯çš„ç¬¬ä¸€æ¡è¾¹å¿…é¡»æ˜¯éåŒ¹é…è¾¹ï¼Œæ¥ä¸‹æ¥çš„æ¯ä¸€æ¡è¾¹éƒ½å¿…é¡»äº¤æ›¿åœ°æ˜¯åŒ¹é…è¾¹å’ŒéåŒ¹é…è¾¹ï¼Œæœ€åä¸€æ¡è¾¹å¿…é¡»æ˜¯éåŒ¹é…è¾¹ã€‚<br>åŒˆç‰™åˆ©ç®—æ³•çš„æ€è·¯å°±æ˜¯ï¼šé€šè¿‡ä¸æ–­å¯»æ‰¾å¢å¹¿è·¯ï¼Œå¯ä»¥ä¸æ–­å¢åŠ åŒ¹é…çš„å¤§å°ï¼Œä»è€Œæ‰¾åˆ°æœ€å¤§åŒ¹é…ã€‚</p>
<h4 id="ç®—æ³•æ¦‚è¿°"><a href="#ç®—æ³•æ¦‚è¿°" class="headerlink" title="ç®—æ³•æ¦‚è¿°"></a>ç®—æ³•æ¦‚è¿°</h4><p>åŒˆç‰™åˆ©ç®—æ³•ä¸»è¦ç”¨äºè§£å†³ <strong>äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°</strong> å’Œ <strong>æœ€å°ç‚¹è¦†ç›–æ•°</strong>ã€‚</p>
<p><strong>äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°é—®é¢˜</strong>ï¼šåœ¨äºŒåˆ†å›¾ä¸­ <strong>æœ€å¤š</strong> èƒ½æ‰¾åˆ°å¤šå°‘æ¡ <strong>æ²¡æœ‰å…¬å…±ç«¯ç‚¹çš„è¾¹</strong>ã€‚</p>
<p>å…·ä½“å®ç°è¿‡ç¨‹ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> M, N;   		  <span class="comment">//Mï¼ŒNåˆ†åˆ«è¡¨ç¤º å·¦ã€å³ é›†åˆçš„å…ƒç´ æ•°é‡</span></span><br><span class="line"><span class="type">int</span> Map[MAXN][MAXN];  <span class="comment">//é‚»æ¥çŸ©é˜µå­˜å›¾</span></span><br><span class="line"><span class="type">int</span> p[MAXN];          <span class="comment">//è®°å½•å½“å‰å³ä¾§å…ƒç´ æ‰€å¯¹åº”çš„å·¦ä¾§å…ƒç´ </span></span><br><span class="line"><span class="type">bool</span> vis[MAXN];       <span class="comment">//è®°å½•å³ä¾§å…ƒç´ æ˜¯å¦å·²è¢«è®¿é—®è¿‡</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">match</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j&lt;=N; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(Map[i][j] &amp;&amp; !vis[j]) <span class="comment">//æœ‰è¾¹ä¸”æœªè®¿é—®è¿‡</span></span><br><span class="line">        &#123;</span><br><span class="line">            vis[j] = <span class="literal">true</span>; <span class="comment">//æ ‡è®°çŠ¶æ€ä¸ºè®¿é—®è¿‡</span></span><br><span class="line">            <span class="keyword">if</span>(p[j] == <span class="number">0</span> || <span class="built_in">mathch</span>(p[j])) </span><br><span class="line">            &#123;<span class="comment">//å¦‚æœæš‚æ— åŒ¹é…ï¼Œæˆ–è€…åŸæ¥åŒ¹é…çš„å·¦ä¾§å…ƒç´ å¯ä»¥æ‰¾åˆ°æ–°çš„åŒ¹é…</span></span><br><span class="line">                p[j] = i; <span class="comment">//å½“å‰å·¦ä¾§å…ƒç´  æˆä¸ºå½“å‰å³ä¾§å…ƒç´ çš„æ–°åŒ¹é…</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//è¿”å›åŒ¹é…æˆåŠŸ</span></span><br><span class="line">            &#125;</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//å¾ªç¯ç»“æŸï¼Œä»æœªæ‰¾åˆ°åŒ¹é…ï¼Œè¿”å›åŒ¹é…å¤±è´¥</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Hungarian</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in">sizeof</span>(vis)); <span class="comment">//é‡ç½® vis æ•°ç»„</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">mathch</span>(i))</span><br><span class="line">            cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p><strong>æœ€å°ç‚¹è¦†ç›–é—®é¢˜</strong>ï¼šæ‰¾åˆ°æœ€å°‘æ•°é‡çš„ç‚¹ï¼Œä½¿å¾—äºŒåˆ†å›¾æ‰€æœ‰çš„è¾¹éƒ½è‡³å°‘æœ‰ä¸€ä¸ªç«¯ç‚¹åœ¨è¿™äº›ç‚¹ä¹‹ä¸­ã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªç»“è®ºï¼š<strong>ä¸€ä¸ªäºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•° &#x3D; è¿™ä¸ªå›¾ä¸­çš„æœ€å°è¦†ç›–æ•°</strong> ï¼ˆKÃ¶nigå®šç†ï¼‰ã€‚</p>
<h3 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h3><p>ä¸»è¦ç”¨äºè§£å†³ä¸€äº› <strong>å…ƒç´ åˆ†ç»„</strong> çš„é—®é¢˜ï¼Œå®ƒç®¡ç†ä¸€ç³»åˆ— ä¸ç›¸äº¤çš„é›†åˆï¼Œå¹¶æ”¯æŒä¸¤ç§æ“ä½œï¼š</p>
<ul>
<li>åˆå¹¶ï¼ˆUnionï¼‰ï¼šæŠŠä¸¤ä¸ªä¸ç›¸äº¤çš„é›†åˆ åˆå¹¶ ä¸ºä¸€ä¸ªé›†åˆ</li>
<li>æŸ¥è¯¢ï¼ˆFindï¼‰ï¼šæŸ¥è¯¢ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­</li>
</ul>
<p>å¹¶æŸ¥é›†çš„é‡è¦æ€æƒ³åœ¨äºï¼šç”¨é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ä»£è¡¨é›†åˆã€‚</p>
<p><strong>åˆå§‹åŒ–</strong></p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> fa[MAXN];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">init</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        fa[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>å‡è®¾æœ‰ ç¼–å·ä¸º1,2,â€¦,n çš„ nä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„ fa[] æ¥å­˜å‚¨æ¯ä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹ï¼ˆå› ä¸ºæ¯ä¸ªå…ƒç´ æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿™æ˜¯å¯è¡Œçš„ï¼‰ã€‚ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬å°†å®ƒä»¬çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºè‡ªå·±ã€‚</p>
<p><strong>æŸ¥è¯¢</strong></p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fa[x] == x) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">find</span>(fa[x]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>ä¸€å±‚ä¸€å±‚è®¿é—®çˆ¶èŠ‚ç‚¹ï¼Œç›´è‡³æ ¹èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹çš„æ ‡å¿—å°±æ˜¯çˆ¶èŠ‚ç‚¹æœ¬èº«ï¼‰ã€‚è¦åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆï¼Œåªè¦çœ‹å®ƒä»¬çš„æ ¹èŠ‚ç‚¹æ˜¯å¦ç›¸åŒå³å¯ã€‚</p>
<p><strong>åˆå¹¶</strong></p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span>&#123;</span><br><span class="line">    fa[<span class="built_in">find</span>(i)] = <span class="built_in">find</span>(j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>åˆå¹¶æ“ä½œï¼šå…ˆæ‰¾åˆ°ä¸¤ä¸ªé›†åˆçš„ä»£è¡¨å…ƒç´ ï¼Œç„¶åå°†å‰è€…çš„çˆ¶èŠ‚ç‚¹è®¾ç½®ä¸ºåè€…å³å¯ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å°†åè€…çš„çˆ¶èŠ‚ç‚¹è®¾ä¸ºå‰è€…ã€‚</p>
<p><strong>åˆå¹¶Â·è·¯å¾„å‹ç¼©</strong></p>
<p>è·¯å¾„å‹ç¼©ï¼šæŠŠæ²¿é€”æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½è®¾ä¸ºæ ¹èŠ‚ç‚¹ï¼Œæé«˜å¹¶æŸ¥é›†æŸ¥æ‰¾æ•ˆç‡</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x == fa[x]?x:(fa[x] = <span class="built_in">find</span>(fa[x]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p><strong>æŒ‰ç§©åˆå¹¶</strong></p>
<p>ç”±äºè·¯å¾„å‹ç¼©åªåœ¨æŸ¥è¯¢æ—¶è¿›è¡Œï¼Œä¹Ÿåªå‹ç¼©ä¸€æ¡è·¯å¾„ï¼Œæ‰€ä»¥å¹¶æŸ¥é›†æœ€ç»ˆçš„ç»“æ„ä»ç„¶å¯èƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ã€‚</p>
<p>å½“å¤æ‚çš„æ ‘ä¸ç®€å•çš„æ ‘åˆå¹¶æ—¶ï¼Œåº”è¯¥å°†ç®€å•çš„æ ‘å¾€å¤æ‚çš„æ ‘ä¸Šåˆå¹¶ã€‚</p>
<p>ç”¨ä¸€ä¸ªæ•°ç»„ rand[] è®°å½•æ¯ä¸ªæ ¹èŠ‚ç‚¹å¯¹åº”æ ‘çš„æ·±åº¦ï¼ˆå¦‚æœä¸æ˜¯æ ¹èŠ‚ç‚¹ï¼Œå…¶rankç›¸å½“äºä»¥å®ƒä½œä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘çš„æ·±åº¦ï¼‰ã€‚ä¸€å¼€å§‹æŠŠæ‰€æœ‰å…ƒç´ çš„rankï¼ˆç§©ï¼‰è®¾ä¸º1ã€‚åˆå¹¶æ—¶æ¯”è¾ƒä¸¤ä¸ªæ ¹èŠ‚ç‚¹ï¼ŒæŠŠ rankè¾ƒå°è€…å¾€è¾ƒå¤§è€…ä¸Šåˆå¹¶ã€‚</p>
<p>è·¯å¾„å‹ç¼©å’ŒæŒ‰ç§©åˆå¹¶ä¸€èµ·ä½¿ç”¨ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œä½†å¾ˆå¯èƒ½ç ´å rank çš„å‡†ç¡®æ€§</p>
<p><strong>åˆå§‹åŒ–ï¼ˆæŒ‰ç§©åˆå¹¶ï¼‰</strong></p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">init</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">        fa[i] = i;</span><br><span class="line">        rank[i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p><strong>åˆå¹¶ï¼ˆæŒ‰ç§©åˆå¹¶ï¼‰</strong></p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> x = <span class="built_in">find</span>(i), y = <span class="built_in">find</span>(j); <span class="comment">//å…ˆæ‰¾åˆ°ä¸¤ä¸ªæ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span>(rank[x] &lt;= rank[y])</span><br><span class="line">        fa[x] = y;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        fa[y] = x;</span><br><span class="line">    <span class="keyword">if</span>(rank[x] == rank[y] &amp;&amp; x!=y)</span><br><span class="line">        rank[y]++; <span class="comment">//å¦‚æœæ·±åº¦ç›¸åŒä¸”æ ¹èŠ‚ç‚¹ä¸åŒï¼Œåˆ™æ–°çš„æ ¹èŠ‚ç‚¹çš„æ·±åº¦+1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="æœ€å°ç”Ÿæˆæ ‘"><a href="#æœ€å°ç”Ÿæˆæ ‘" class="headerlink" title="æœ€å°ç”Ÿæˆæ ‘"></a>æœ€å°ç”Ÿæˆæ ‘</h3><p>ç»™å®šä¸€å¼ è¾¹å¸¦æƒçš„æ— å‘å›¾ G &#x3D; ï¼ˆV, E)ï¼Œ n &#x3D; |V|, m &#x3D; |E|ã€‚ç”± V ä¸­å…¨éƒ¨ n ä¸ªé¡¶ç‚¹å’Œ E ä¸­ n-1æ¡è¾¹æ„æˆçš„æ— å‘è¿é€šå­å›¾ç§°ä¸º G çš„ä¸€æ£µç”Ÿæˆæ ‘ã€‚è¾¹çš„æƒå€¼ä¹‹å’Œæœ€å°çš„ç”Ÿæˆæ ‘è¢«ç§°ä¸ºæ— å‘å›¾ G çš„æœ€å°ç”Ÿæˆæ ‘ã€‚</p>
<p>å®šç†ï¼šä»»æ„ä¸€æ£µæœ€å°ç”Ÿæˆæ ‘ä¸€å®šåŒ…å«æ— å‘å›¾ä¸­æƒå€¼æœ€å°çš„è¾¹</p>
<p>æ ‘ï¼šæ— ç¯è¿é€šå›¾</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://pic4.zhimg.com/v2-4f10048ca88fda26f03cf38074b3a8bb_b.jpg"
                      alt="img"
                ></p>
<p>ä¸¤ç§ç®—æ³•ï¼ˆæ€è·¯ï¼‰</p>
<p><strong>Kruskal ç®—æ³•</strong></p>
<p>å°†æ‰€æœ‰è·¯å¾„æ’åºï¼Œç„¶åé€‰å– n-1 æ¡è·¯å¾„ï¼Œå…·ä½“é€‰æ³•</p>
<ol>
<li>å…ˆé€‰æ‹©æœ€å°è¾¹ï¼Œæ­¤æ—¶é›†åˆä¸­æœ‰ä¸¤ä¸ªèŠ‚ç‚¹</li>
<li>é€‰å–ä¸‹ä¸€æ¡çš„åŸåˆ™ï¼šFIRST æœ€å° SECOND æ˜¯åœ¨é›†åˆä¸­çš„èŠ‚ç‚¹ä¸å‰©ä½™èŠ‚ç‚¹ä¹‹é—´ï¼Œä¸èƒ½å½¢æˆå›è·¯</li>
<li>é‡å¤ n-1 æ¬¡</li>
</ol>
<p>ç®—æ³•æµç¨‹ï¼š</p>
<ol>
<li>å»ºç«‹å¹¶æŸ¥é›†ï¼Œæ¯ä¸ªç‚¹å„è‡ªæ„æˆä¸€ä¸ªé›†åˆ</li>
<li>æŠŠæ‰€æœ‰è¾¹æŒ‰ç…§æƒå€¼ä»å°åˆ°è¾¾æ’åºï¼Œä¾æ¬¡æ‰«ææ¯æ¡è¾¹ï¼ˆx,y,zï¼‰</li>
<li>è‹¥ x, y å±äºåŒä¸€é›†åˆï¼ˆè¿é€šï¼‰ï¼Œåˆ™å¿½ç•¥è¿™æ¡è¾¹ï¼Œç»§ç»­æ‰«æä¸‹ä¸€æ¡</li>
<li>å¦åˆ™ï¼Œåˆå¹¶ x, yæ‰€åœ¨çš„é›†åˆï¼Œå¹¶æŠŠ z ç´¯åŠ åˆ°ç­”æ¡ˆä¸­</li>
<li>æ‰€æœ‰è¾¹æ‰«æå®Œæˆåï¼Œç¬¬4æ­¥ä¸­å¤„ç†è¿‡çš„è¾¹å°±æ„æˆæœ€å°ç”Ÿæˆæ ‘</li>
</ol>
<p>æ—¶é—´å¤æ‚åº¦ $O(m \log m)$</p>
<p>ç®—æ³•æ¨¡æ¿ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x, y, len;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span> &lt; (Edge&amp; other)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> len &lt; other.len;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edge[<span class="number">10000</span>];</span><br><span class="line"><span class="type">int</span> fa[<span class="number">10000</span>], n, m, ans;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fa[x] == x) <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">find</span>(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; edge[i].x &gt;&gt; edge[i].y &gt;&gt; edge[i].len;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">//æŒ‰ç…§æƒå˜æ’åº</span></span><br><span class="line">    <span class="built_in">sort</span>(edge+<span class="number">1</span>, edge+m+<span class="number">1</span>);</span><br><span class="line">    <span class="comment">//å¹¶æŸ¥é›†åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=n; i++) fa[i] = i;</span><br><span class="line">    <span class="comment">//æ±‚æœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x = <span class="built_in">find</span>(edge[i].x);</span><br><span class="line">        <span class="type">int</span> y = <span class="built_in">find</span>(edge[i].y);</span><br><span class="line">        <span class="keyword">if</span>(x == y) <span class="keyword">continue</span>;</span><br><span class="line">        fa[x] = y;</span><br><span class="line">        ans += edge[i].z;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p><strong>Prim ç®—æ³•</strong></p>
<ol>
<li>éšæœºé€‰æ‹©ä¸€ä¸ªç‚¹P</li>
<li>éå†ä¸Pè¿é€šçš„ç‚¹ï¼Œæ‰¾åˆ°æœ€å°è·¯å¾„è¿æ¥çš„å¦ä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹å¿…é¡»æ˜¯è¿˜æ²¡æœ‰è®¿é—®è¿‡ï¼Œå°†è¯¥ç‚¹åŠ å…¥é›†åˆï¼Œè®°å½•æ·»åŠ çš„è¾¹ã€‚</li>
<li>æŠŠä¸å½“å‰é›†åˆå¯ä»¥è®¿é—®çš„æ‰€æœ‰è¾¹å’Œç‚¹ï¼Œé€‰ä¸€ä¸ªæœ€çŸ­è·¯å¾„è¿æ¥çš„ç‚¹åœ¨çº³å…¥é›†åˆï¼Œå¦‚æ­¤é‡å¤ï¼Œç›´åˆ°æ²¡æœ‰æ–°çš„ç‚¹å¯ä»¥åŠ å…¥</li>
<li>æ­¤æ—¶æ‰€æœ‰è¾¹æ„æˆçš„æ ‘ä¸ºæœ€å°ç”Ÿæˆæ ‘</li>
</ol>
<p>ç®—æ³•ç¤ºä¾‹ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[<span class="number">1000</span>][<span class="number">1000</span>], dist[<span class="number">1000</span>], n, m, ans;</span><br><span class="line"><span class="type">bool</span> in[<span class="number">1000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">prim</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist, <span class="number">0x3f</span>, <span class="built_in">sizeof</span>(dist));</span><br><span class="line">    <span class="built_in">memset</span>(in, <span class="number">0</span>, <span class="built_in">sizeof</span>(in));</span><br><span class="line">    </span><br><span class="line">    dist[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">		<span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j&lt;=n; j++)</span><br><span class="line">            <span class="keyword">if</span>(!in[j] &amp;&amp; (x == <span class="number">0</span> || dist[j]&lt;dist[x])) x = j;</span><br><span class="line">		in[x] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">1</span>; y&lt;=n; y++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!in[y])</span><br><span class="line">                dist[y] = <span class="built_in">min</span>(dist[y], a[x][y]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="comment">//æ„å»ºé‚»æ¥çŸ©é˜µ</span></span><br><span class="line">    <span class="built_in">memset</span>(a, <span class="number">0x3f</span>, <span class="built_in">sizeof</span>(a));</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=n; i++) a[i][i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> x, y, len;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y &gt;&gt; len;</span><br><span class="line">        a[x][y] = a[y][x] = <span class="built_in">min</span>(a[x][y], z);</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">//æ±‚æœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line">    <span class="built_in">prim</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">2</span>; i&lt;=n; i++) ans+=dist[i];</span><br><span class="line">    cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>





<h3 id="Dijkstra-ç®—æ³•"><a href="#Dijkstra-ç®—æ³•" class="headerlink" title="Dijkstra ç®—æ³•"></a>Dijkstra ç®—æ³•</h3><p>å…¶ä¸»è¦æ€æƒ³æ˜¯è´ªå¿ƒï¼Œå…·ä½“åœ°è¯´ï¼š</p>
<ul>
<li><p>å°†æ‰€æœ‰èŠ‚ç‚¹åˆ†æˆä¸¤ç±»ï¼šå·²ç¡®å®šä»èµ·ç‚¹åˆ°å½“å‰ç‚¹çš„æœ€çŸ­è·¯é•¿åº¦çš„èŠ‚ç‚¹ï¼Œä»¥åŠæœªç¡®å®šä»èµ·ç‚¹åˆ°å½“å‰ç‚¹çš„æœ€çŸ­è·¯é•¿åº¦çš„èŠ‚ç‚¹ï¼ˆä¸‹é¢ç®€ç§°ã€Œæœªç¡®å®šèŠ‚ç‚¹ã€å’Œã€Œå·²ç¡®å®šèŠ‚ç‚¹ã€ï¼‰ã€‚</p>
</li>
<li><p>æ¯æ¬¡ä»ã€Œæœªç¡®å®šèŠ‚ç‚¹ã€ä¸­<strong>å–ä¸€ä¸ªä¸èµ·ç‚¹è·ç¦»æœ€çŸ­çš„ç‚¹</strong>ï¼Œå°†å®ƒå½’ç±»ä¸ºã€Œå·²ç¡®å®šèŠ‚ç‚¹ã€ï¼Œå¹¶ç”¨å®ƒã€Œ<strong>æ›´æ–°</strong>ã€ä»èµ·ç‚¹åˆ°å…¶ä»–æ‰€æœ‰ã€Œæœªç¡®å®šèŠ‚ç‚¹ã€çš„è·ç¦»ã€‚<strong>ç›´åˆ°æ‰€æœ‰ç‚¹éƒ½è¢«å½’ç±»ä¸ºã€Œå·²ç¡®å®šèŠ‚ç‚¹ã€</strong>ã€‚</p>
</li>
<li><p>ç”¨èŠ‚ç‚¹ Aã€Œæ›´æ–°ã€èŠ‚ç‚¹ B çš„æ„æ€æ˜¯ï¼Œç”¨ èµ·ç‚¹åˆ°èŠ‚ç‚¹ A çš„æœ€çŸ­è·¯é•¿åº¦ åŠ ä¸Š ä»èŠ‚ç‚¹ A åˆ°èŠ‚ç‚¹ B çš„è¾¹çš„é•¿åº¦ï¼Œå»æ¯”è¾ƒ èµ·ç‚¹åˆ°èŠ‚ç‚¹ B çš„æœ€çŸ­è·¯é•¿åº¦ï¼Œå¦‚æœå‰è€…å°äºåè€…ï¼Œå°±ç”¨å‰è€…æ›´æ–°åè€…ã€‚è¿™ç§æ“ä½œä¹Ÿè¢«å«åšã€Œæ¾å¼›ã€ã€‚</p>
</li>
</ul>
<p>Dijkstra ç®—æ³•åŸºæœ¬ç­–ç•¥ï¼šä½¿ç”¨é‚»æ¥åˆ—è¡¨æ¥è¡¨ç¤ºå›¾ï¼ŒæŸ¥æ‰¾ä»èµ·å§‹é¡¶ç‚¹åˆ°æ‰€æœ‰å…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œä¼˜å…ˆçº§é˜Ÿåˆ—ç”¨äºåœ¨æ¯æ¬¡è¿­ä»£ä¸­æœ‰æ•ˆåœ°é€‰æ‹©è·ç¦»æœ€å°çš„é¡¶ç‚¹ã€‚</p>
<p>ğŸ¤–ä»£ç æ¡†æ¶ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dijkstra</span><span class="params">(vector&lt;vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;&gt;&amp; graph, <span class="type">int</span> start)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n = graph.<span class="built_in">size</span>();<span class="comment">//é¡¶ç‚¹çš„æ•°é‡</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dist</span><span class="params">(n, INT_MAX)</span></span>;<span class="comment">//å­˜å‚¨ç‚¹åˆ°èµ·ç‚¹çš„è·ç¦»</span></span><br><span class="line">    priority_queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;,vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; ,greater&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;&gt; pq;</span><br><span class="line">    <span class="comment">// min-heap priority queue</span></span><br><span class="line">    </span><br><span class="line">    dist[start] = <span class="number">0</span>;<span class="comment">//èµ·ç‚¹è‡ªèº«åˆ°èµ·ç‚¹çš„è·ç¦»ä¸º0</span></span><br><span class="line">    pq.<span class="built_in">push</span>(&#123;<span class="number">0.</span>start&#125;);<span class="comment">//å°†èµ·ç‚¹æ”¾å…¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­</span></span><br><span class="line">    <span class="keyword">while</span>(!pq.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> u = pq.<span class="built_in">top</span>().second;<span class="comment">//å¾—åˆ°æœ€çŸ­è·ç¦»å¯¹åº”çš„ç‚¹</span></span><br><span class="line">        <span class="type">int</span> d = pq.<span class="built_in">top</span>().first;<span class="comment">//å¾—åˆ°å¯¹åº”è·ç¦»</span></span><br><span class="line">        pq.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="comment">//å¦‚æœå½“å‰è·ç¦»å¤§äºè·ç¦»æ•°ç»„ä¸­å­˜å‚¨çš„å€¼ï¼Œåˆ™è·³è¿‡å®ƒ</span></span><br><span class="line">        <span class="keyword">if</span>(d &gt; dist[u]) <span class="keyword">continue</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; edge: graph[u])&#123;</span><br><span class="line">            <span class="type">int</span> v = edge.first; <span class="comment">//é™„è¿‘çš„ç‚¹</span></span><br><span class="line">            <span class="type">int</span> w = edge.second;<span class="comment">//è¾¹u-vçš„æƒ</span></span><br><span class="line">            <span class="comment">//å¦‚æœæ›´çŸ­è·ç¦»æ‰¾åˆ°ï¼Œåˆ™æ›´æ–°</span></span><br><span class="line">            <span class="keyword">if</span>(dist[u]+w &lt; dist[v])&#123;</span><br><span class="line">                dist[v] = dist[u]+w;<span class="comment">//æ›´æ–°</span></span><br><span class="line">                pq.<span class="built_in">push</span>(&#123;dist[v], v&#125;); <span class="comment">//å°† v æ”¾å…¥ä¼˜å…ˆé˜Ÿåˆ—ä¸­</span></span><br><span class="line">			&#125;</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">return</span> dist;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>ä¾‹å›¾ï¼š</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://pic1.zhimg.com/v2-a4a9a98ff20adfd0d027013610ebc5e4_r.jpg"
                      alt="img" style="zoom:50%;" 
                >

<h3 id="SPFA-ç®—æ³•"><a href="#SPFA-ç®—æ³•" class="headerlink" title="SPFA ç®—æ³•"></a>SPFA ç®—æ³•</h3><p>SUMMARY</p>
<ul>
<li>åˆå§‹åŒ–é™¤æºé¡¶ç‚¹ä¸º0ä¹‹å¤–çš„æ‰€æœ‰é¡¶ç‚¹çš„æ— é™è·ç¦»æ•°ç»„ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªç©ºé˜Ÿåˆ—ï¼Œå¹¶å°†æºé¡¶ç‚¹åŠ å…¥å…¶ä¸­ã€‚</li>
<li>å¦‚æœé˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ‰§è¡Œå¦‚ä¸‹æ“ä½œ:<br>a. åˆ é™¤é˜Ÿåˆ—æœ€å‰é¢çš„é¡¶ç‚¹ã€‚<br>b. å¯¹äºè¯¥é¡¶ç‚¹çš„æ¯ä¸ªé‚»å±…ï¼Œè®¡ç®—åˆ°å®ƒçš„è·ç¦»(å³åˆ°å½“å‰é¡¶ç‚¹çš„è·ç¦»+å®ƒä»¬ä¹‹é—´è¾¹çš„æƒé‡)ã€‚c. å¦‚æœè¯¥è·ç¦»å°äºé‚»å±…çš„å½“å‰è·ç¦»ï¼Œåˆ™æ›´æ–°è·ç¦»æ•°ç»„ï¼Œå¹¶å°†è¯¥é‚»å±…åŠ å…¥é˜Ÿåˆ—(å¦‚æœå®ƒå°šæœªåœ¨é˜Ÿåˆ—ä¸­)ã€‚</li>
<li>é‡å¤ç¬¬3æ­¥ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–æ‰€æœ‰é¡¶ç‚¹éƒ½è¢«è®¿é—®è¿‡ã€‚</li>
<li>distanceæ•°ç»„ç°åœ¨åŒ…å«äº†ä»æºé¡¶ç‚¹åˆ°å›¾ä¸­æ‰€æœ‰å…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚</li>
</ul>
<p>ğŸ¤–ä»¥ä¸‹æ˜¯SPFAç®—æ³•çš„æ¡†æ¶ï¼Œä½¿ç”¨C++ç¼–å†™ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">int</span> INF = <span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> MAXN = <span class="number">100005</span>;</span><br><span class="line"></span><br><span class="line">vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; adj[MAXN];</span><br><span class="line"><span class="type">int</span> dist[MAXN];</span><br><span class="line"><span class="type">bool</span> inQueue[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">SPFA</span><span class="params">(<span class="type">int</span> start)</span> </span>&#123;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">    <span class="built_in">memset</span>(dist, INF, <span class="built_in">sizeof</span>(dist));</span><br><span class="line">    <span class="built_in">memset</span>(inQueue, <span class="literal">false</span>, <span class="built_in">sizeof</span>(inQueue));</span><br><span class="line">    dist[start] = <span class="number">0</span>;</span><br><span class="line">    q.<span class="built_in">push</span>(start);</span><br><span class="line">    inQueue[start] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> u = q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        inQueue[u] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> v : adj[u]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dist[v.first] &gt; dist[u] + v.second) &#123;</span><br><span class="line">                dist[v.first] = dist[u] + v.second;</span><br><span class="line">                <span class="keyword">if</span> (!inQueue[v.first]) &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(v.first);</span><br><span class="line">                    inQueue[v.first] = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>åœ¨è¿™ä¸ªå®ç°ä¸­ï¼Œ<code>adj</code>æ˜¯ä¸€ä¸ªé‚»æ¥è¡¨ï¼Œè¡¨ç¤ºå›¾ä¸­çš„è¾¹ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå½¢å¦‚<code>(v, w)</code>çš„å¯¹ï¼Œè¡¨ç¤ºä»å½“å‰èŠ‚ç‚¹åˆ°èŠ‚ç‚¹<code>v</code>æœ‰ä¸€æ¡æƒé‡ä¸º<code>w</code>çš„è¾¹ã€‚<code>dist</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå­˜å‚¨ä»èµ·ç‚¹åˆ°å›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚<code>inQueue</code>æ˜¯ä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼Œç”¨äºè®°å½•ä¸€ä¸ªèŠ‚ç‚¹å½“å‰æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­ã€‚</p>
<p><code>SPFA</code>å‡½æ•°ä»¥èµ·ç‚¹ä½œä¸ºè¾“å…¥ï¼Œä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œæœ€çŸ­è·¯å¾„æœç´¢ã€‚å®ƒå°†æ‰€æœ‰èŠ‚ç‚¹çš„è·ç¦»åˆå§‹åŒ–ä¸ºæ— ç©·å¤§ï¼Œé™¤äº†èµ·ç‚¹ï¼Œèµ·ç‚¹çš„è·ç¦»ä¸º0ã€‚ç„¶åå°†èµ·ç‚¹åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶å°†å…¶<code>inQueue</code>æ ‡å¿—è®¾ç½®ä¸ºtrueã€‚</p>
<p>ç„¶åï¼Œå‡½æ•°è¿›å…¥ä¸€ä¸ªå¾ªç¯ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºä¸ºæ­¢ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œå®ƒä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªèŠ‚ç‚¹<code>u</code>ï¼Œå°†å…¶<code>inQueue</code>æ ‡å¿—è®¾ç½®ä¸ºfalseã€‚ç„¶åæ£€æŸ¥<code>u</code>çš„æ‰€æœ‰é‚»å±…ï¼Œå¹¶åœ¨æ‰¾åˆ°æ›´çŸ­çš„è·¯å¾„æ—¶æ›´æ–°å®ƒä»¬çš„è·ç¦»ã€‚å¦‚æœé‚»å±…çš„è·ç¦»è¢«æ›´æ–°ï¼Œåˆ™å‡½æ•°æ£€æŸ¥å®ƒæ˜¯å¦å·²ç»åœ¨é˜Ÿåˆ—ä¸­ã€‚å¦‚æœä¸åœ¨ï¼Œåˆ™å°†å…¶åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶å°†å…¶<code>inQueue</code>æ ‡å¿—è®¾ç½®ä¸ºtrueã€‚</p>
<p>æœ€åï¼Œ<code>main</code>å‡½æ•°è¯»å–è¾“å…¥ï¼Œè°ƒç”¨<code>SPFA</code>å‡½æ•°ï¼Œå¹¶è¾“å‡ºå›¾ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä»èµ·ç‚¹ä¸å¯è¾¾ï¼Œåˆ™è¾“å‡ºå…¶è·ç¦»ä¸ºâ€œINFâ€ã€‚</p>
<p><strong>SPFAç®—æ³•å’ŒDijkstraç®—æ³•çš„å·®åˆ«</strong></p>
<p>SPFAç®—æ³•å’ŒDijkstraç®—æ³•éƒ½æ˜¯ç”¨äºåœ¨åŠ æƒå›¾ä¸­å¯»æ‰¾æœ€çŸ­è·¯å¾„çš„ç®—æ³•ã€‚ä½†æ˜¯ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ä¸€äº›ä¸åŒä¹‹å¤„ï¼š</p>
<ol>
<li>æ—¶é—´å¤æ‚åº¦ï¼šDijkstraç®—æ³•ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(ElogV)ï¼Œå…¶ä¸­Eæ˜¯è¾¹æ•°ï¼ŒVæ˜¯é¡¶ç‚¹æ•°ã€‚å¦ä¸€æ–¹é¢ï¼ŒSPFAç®—æ³•çš„æœ€åæ—¶é—´å¤æ‚åº¦ä¸ºO(VE)ï¼Œæ¯”Dijkstraç®—æ³•æ…¢ã€‚ä½†æ˜¯ï¼Œåœ¨å®è·µä¸­ï¼ŒSPFAç®—æ³•åœ¨ <strong>ç¨€ç–å›¾</strong> ä¸Šçš„è¡¨ç°é€šå¸¸æ¯”Dijkstraç®—æ³•å¥½ã€‚</li>
<li>è´Ÿæƒé‡ï¼šDijkstraç®—æ³•ä¸èƒ½å¤„ç†å›¾ä¸­çš„è´Ÿæƒé‡ï¼Œå› ä¸ºå®ƒå‡è®¾æ‰€æœ‰è¾¹çš„æƒé‡éƒ½æ˜¯éè´Ÿçš„ã€‚å¦ä¸€æ–¹é¢ï¼ŒSPFAç®—æ³•å¯ä»¥å¤„ç†è´Ÿæƒé‡ï¼Œä½†å¦‚æœå›¾ä¸­åŒ…å«è´Ÿç¯ï¼Œåˆ™å¯èƒ½æ— æ³•ç»ˆæ­¢ã€‚</li>
<li>å†…å­˜ä½¿ç”¨ï¼šDijkstraç®—æ³•éœ€è¦ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—æ¥å­˜å‚¨é¡¶ç‚¹ï¼Œè¿™å¯èƒ½ä¼šå¯¹å¤§å‹å›¾å½¢æˆå†…å­˜å‹åŠ›ã€‚SPFAç®—æ³•ä½¿ç”¨ç®€å•çš„é˜Ÿåˆ—ï¼Œéœ€è¦æ›´å°‘çš„å†…å­˜ã€‚</li>
<li>ä¼˜åŒ–ï¼šDijkstraç®—æ³•å¯ä»¥ä½¿ç”¨æ–æ³¢é‚£å¥‘å †æˆ–æ¡¶é˜Ÿåˆ—ç­‰æŠ€æœ¯è¿›è¡Œä¼˜åŒ–ï¼Œä»¥æé«˜å…¶æ€§èƒ½ã€‚SPFAç®—æ³•æ²¡æœ‰å¤ªå¤šå¯ç”¨çš„ä¼˜åŒ–æŠ€æœ¯ï¼Œå› ä¸ºå®ƒå·²ç»æ˜¯ä¸€ä¸ªç®€å•çš„ç®—æ³•ã€‚</li>
</ol>
<p>æ€»ä¹‹ï¼ŒDijkstraç®—æ³•åœ¨å¤§å¤šæ•°å›¾å½¢ä¸Šæ¯”SPFAç®—æ³•æ›´å¿«ï¼Œæ›´èŠ‚çœå†…å­˜ï¼Œä½†ä¸èƒ½å¤„ç†è´Ÿæƒé‡ã€‚SPFAç®—æ³•å¯ä»¥å¤„ç†è´Ÿæƒé‡ï¼Œä½†åœ¨æŸäº›å›¾å½¢ä¸Šå¯èƒ½æ¯”Dijkstraç®—æ³•æ…¢ï¼Œå†…å­˜æ•ˆç‡ä½ã€‚</p>
<h3 id="A-ç®—æ³•"><a href="#A-ç®—æ³•" class="headerlink" title="A* ç®—æ³•"></a>A* ç®—æ³•</h3><p>A*ç®—æ³•çš„ä¸»è¦æ¡†æ¶å¦‚ä¸‹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–èµ·å§‹èŠ‚ç‚¹ï¼Œå…¶ä»£ä»·ä¸º0ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªå¼€æ”¾åˆ—è¡¨ï¼Œå¹¶å°†èµ·å§‹èŠ‚ç‚¹æ·»åŠ åˆ°å…¶ä¸­ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªå…³é—­åˆ—è¡¨ã€‚</li>
<li>å½“å¼€æ”¾åˆ—è¡¨ä¸ä¸ºç©ºæ—¶ï¼š a. ä»å¼€æ”¾åˆ—è¡¨ä¸­é€‰æ‹©å…·æœ‰æœ€ä½få€¼ï¼ˆf &#x3D; g + hï¼Œå…¶ä¸­gæ˜¯ä»èµ·å§‹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„ä»£ä»·ï¼Œhæ˜¯å½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹çš„ä¼°ç®—ä»£ä»·ï¼‰çš„èŠ‚ç‚¹ã€‚ b. å¦‚æœé€‰æ‹©çš„èŠ‚ç‚¹æ˜¯ç›®æ ‡èŠ‚ç‚¹ï¼Œåˆ™å·²æ‰¾åˆ°æœ€çŸ­è·¯å¾„ã€‚è¿”å›è·¯å¾„ã€‚ c. å¦åˆ™ï¼Œå°†æ‰€é€‰èŠ‚ç‚¹ä»å¼€æ”¾åˆ—è¡¨ä¸­åˆ é™¤å¹¶å°†å…¶æ·»åŠ åˆ°å…³é—­åˆ—è¡¨ä¸­ã€‚ d. å¯¹äºæ‰€é€‰èŠ‚ç‚¹çš„æ¯ä¸ªé‚»å±…ï¼š i. å¦‚æœé‚»å±…å·²ç»åœ¨å…³é—­åˆ—è¡¨ä¸­ï¼Œåˆ™è·³è¿‡ã€‚ ii. è®¡ç®—é‚»å±…çš„gå€¼ï¼Œä½œä¸ºä»èµ·å§‹èŠ‚ç‚¹åˆ°é‚»å±…èŠ‚ç‚¹ç»è¿‡æ‰€é€‰èŠ‚ç‚¹çš„ä»£ä»·ã€‚ iii. å¦‚æœé‚»å±…ä¸åœ¨å¼€æ”¾åˆ—è¡¨ä¸­ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°å¼€æ”¾åˆ—è¡¨ä¸­ï¼Œå¹¶å°†å…¶hå€¼è®¡ç®—ä¸ºä»é‚»å±…åˆ°ç›®æ ‡èŠ‚ç‚¹çš„ä¼°ç®—ä»£ä»·ã€‚ iv. å¦‚æœé‚»å±…å·²ç»åœ¨å¼€æ”¾åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”å®ƒçš„æ–°gå€¼ä½äºæ—§çš„gå€¼ï¼Œåˆ™æ›´æ–°å…¶gå€¼ï¼Œå¹¶æ›´æ–°å…¶çˆ¶èŠ‚ç‚¹ä¸ºæ‰€é€‰èŠ‚ç‚¹ã€‚</li>
<li>å¦‚æœå¼€æ”¾åˆ—è¡¨ä¸ºç©ºä¸”æœªæ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œåˆ™ä»èµ·å§‹èŠ‚ç‚¹åˆ°ç›®æ ‡èŠ‚ç‚¹æ²¡æœ‰è·¯å¾„ã€‚è¿”å›å¤±è´¥ã€‚</li>
</ol>
<h3 id="floydç®—æ³•"><a href="#floydç®—æ³•" class="headerlink" title="floydç®—æ³•"></a>floydç®—æ³•</h3><p>Floydç®—æ³• æ˜¯è§£å†³ä»»æ„ä¸¤ç‚¹é—´çš„æœ€çŸ­è·¯å¾„çš„ä¸€ç§ç®—æ³• æ˜¯ä¸€ç§æ’ç‚¹ç®—æ³• å¯ä»¥æ­£ç¡®å¤„ç†æœ‰å‘å›¾æˆ–å¸¦è´Ÿæƒéå›è·¯çš„æœ€çŸ­è·¯å¾„ç®—æ³• åŒæ—¶ä¹Ÿè¢«ç”¨äºè®¡ç®—æœ‰å‘å›¾çš„ä¼ é€’é—­åŒ… Floydæ—¶é—´å¤æ‚åº¦ä¸º$O(N^3)$ï¼Œç©ºé—´å¤æ‚åº¦ä¸º$O(N^2)$ã€‚Floyd ç®—æ³•æ˜¯åŸºäº <strong>åŠ¨æ€è§„åˆ’</strong> çš„å¤šæºæœ€çŸ­è·¯ç®—æ³•ã€‚</p>
<p>æœ€ä¼˜å­ç»“æ„ï¼šå›¾ç»“æ„ä¸­ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„å®šç†ï¼š<strong>æœ€çŸ­è·¯å¾„çš„å­è·¯å¾„ä»ç„¶æ˜¯æœ€çŸ­è·¯å¾„</strong>ã€‚</p>
<p>ä¸€èˆ¬çš„åŠ¨æ€è§„åˆ’ï¼Œè®¾å®š <code>dist[k][i][j]</code> ä¸ºç»è¿‡å‰ k çš„èŠ‚ç‚¹ï¼Œä»i åˆ° j æ‰€å¾—åˆ°çš„æœ€çŸ­è·¯å¾„ï¼Œ<code>dist[k][i][j]</code> å¯ä»¥ä» <code>dist[k-1][i][k]+dist[k-1][k][j]</code> è½¬ç§»è¿‡æ¥ï¼Œå¯ä»¥çœ‹å‡ºï¼Œkçš„çŠ¶æ€å®Œå…¨ç”± k-1 è½¬ç§»è¿‡æ¥ï¼Œåªè¦ å°† k çš„å¾ªç¯æ”¾åœ¨æœ€å¤–å±‚å°±èƒ½ä¿è¯æ— åæ•ˆè¡Œã€‚æœ€åå¾—åˆ° <code>dist[k][j][i] = min(dist[k-1][i][k]+dist[k-1][k][j], dist[k][j][i])</code> ã€‚</p>
<p>è§‚å¯Ÿå¯çŸ¥ï¼Œå¯ä»¥ç”¨ <strong>æ»šåŠ¨æ•°ç»„</strong> è¿›è¡Œä¼˜åŒ–ï¼Œé™ä½ç©ºé—´å¤æ‚åº¦ã€‚åˆ†æå¯çŸ¥ <code>dist[i][j]</code> ä¾èµ–äº <code>f[i][k]+dist[k][j]</code>ï¼Œåœ¨æ›´æ–°<code>dist[m][n]</code>æ—¶ï¼Œç”¨åˆ°<code>dist[m][k]+dist[k][n]</code>ã€‚</p>
<p>æœ€ç»ˆçš„æ–¹ç¨‹ï¼š<code>dp[i][j]=min(dp[i][j],dp[i][k]+dp[k][j])</code> </p>
<p>ğŸ¤–ç®—æ³•æ¡†æ¶ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">floyd</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; graph)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> n = graph.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Initialize the distance matrix</span></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dist</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            dist[i][j] = graph[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update the distance matrix</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (dist[i][k] != INT_MAX &amp;&amp; dist[k][j] != INT_MAX &amp;&amp; dist[i][k] + dist[k][j] &lt; dist[i][j]) &#123;</span><br><span class="line">                    dist[i][j] = dist[i][k] + dist[k][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>å¦‚ä½•æ‰¾åˆ°å…·ä½“çš„è·¯å¾„å‘¢ï¼Ÿåœ¨ Floyd ç®—æ³•ä¸­ï¼Œåªéœ€è¦åœ¨æ›´æ–° <code>dist[i][j]</code>çš„æ—¶å€™ï¼Œæ›´æ–°ä¸­é—´èŠ‚ç‚¹å°±å¯ä»¥äº†ã€‚</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (dist[i][k] != INT_MAX &amp;&amp; dist[k][j] != INT_MAX &amp;&amp; dist[i][k] + dist[k][j] &lt; dist[i][j]) &#123;</span><br><span class="line">    dist[i][j] = dist[i][k] + dist[k][j];</span><br><span class="line">    path[i][j] = k;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>æ‰“å°è·¯å¾„</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string <span class="title">getPath</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; path, <span class="type">int</span> i, <span class="type">int</span> j)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(path[i][j] == <span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot; &quot;</span>+i+<span class="string">&quot; &quot;</span>+j;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> k = path[i][j];</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">getPath</span>(path, i, k)+<span class="string">&quot; &quot;</span>+<span class="built_in">getPath</span>(path, k, j)+<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p><strong>æ³¨</strong>ï¼šFloyd ç®—æ³•åªèƒ½åœ¨<strong>ä¸å­˜åœ¨è´Ÿæƒç¯</strong>çš„æƒ…å†µä¸‹ï¼ˆå¯ä»¥æœ‰è´Ÿæƒå€¼ï¼‰ä½¿ç”¨ï¼Œå› ä¸ºå…¶å¹¶ä¸èƒ½åˆ¤æ–­è´Ÿæƒç¯ï¼Œå¦‚æœæœ‰è´Ÿæƒç¯ï¼Œæœ€çŸ­è·¯å°†æ— æ„ä¹‰ã€‚</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.acwing.com/media/article/image/2022/03/07/64858_2a411f1d9e-floyd%E6%80%BB%E6%89%8E.png"
                      alt="floyd.png" style="zoom:33%;" 
                >

<h3 id="Tarjanç®—æ³•"><a href="#Tarjanç®—æ³•" class="headerlink" title="Tarjanç®—æ³•"></a><a href="https://carolinebaby.github.io/2023/04/10/tarjan%E7%AE%97%E6%B3%95/">Tarjanç®—æ³•</a></h3><h3 id="å·®åˆ†çº¦æŸç®—æ³•"><a href="#å·®åˆ†çº¦æŸç®—æ³•" class="headerlink" title="å·®åˆ†çº¦æŸç®—æ³•"></a>å·®åˆ†çº¦æŸç®—æ³•</h3><p>å·®åˆ†çº¦æŸç³»ç»Ÿæ˜¯ä¸‹é¢è¿™ç§å½¢å¼çš„å¤šå…ƒä¸€æ¬¡ä¸ç­‰å¼ç»„ï¼ˆ$y_1$, $y_2$, â€¦, $y_n$ ä¸ºå·²çŸ¥é‡ï¼‰<br>$$<br>\begin{cases}<br>x_{c_1} - x_{c_1â€™} \leqslant y_1\<br>x_{c_2} - x_{c_2â€™} \leqslant y_2\<br>â€¦\<br>x_{c_m} - x_{c_mâ€™} \leqslant y_m<br>\end{cases}<br>$$</p>
<p>ï¼ˆæ¯ä¸ªä¸ç­‰å¼ç§°ä¸ºä¸€ä¸ªçº¦æŸæ¡ä»¶ï¼Œéƒ½æ˜¯ä¸¤ä¸ªæœªçŸ¥é‡ä¹‹å·®å°äºæˆ–ç­‰äºæŸä¸ªå¸¸æ•°ï¼‰å¾ˆå¤šé¢˜ç›®éƒ½ä¼šç»™å‡ºä¸€ç³»åˆ—ä¸ç­‰å…³ç³»ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥å°è¯•æŠŠå®ƒä»¬è½¬åŒ–ä¸ºå·®åˆ†çº¦æŸç³»ç»Ÿæ¥è§£å†³ã€‚</p>
<p><strong>é—®é¢˜è½¬åŒ–</strong></p>
<p>æˆ‘ä»¬è®¾ $x_1 - x_2 \leqslant c$ ï¼Œç§»é¡¹å¾—  $x_1\leqslant x_2 + c $ ï¼Œè§‚å¯Ÿè¿™ä¸ªä¸ç­‰å¼ ä¸ <strong>æœ€çŸ­è·¯é—®é¢˜</strong> ä¸­çš„ ä¸‰è§’ä¸ç­‰å¼ $dist[u] \leqslant dist[u]+w_{v,u}$ çš„ç›¸ä¼¼ä¹‹å¤„ã€‚åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒè½¬åŒ–ä¸ºä¸€ä¸ª å›¾è®º é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ¯ä¸€ä¸ª $x_{c_i} - x_{c_iâ€™} \leqslant y_i$ï¼Œæˆ‘ä»¬éƒ½ä» $c_iâ€™$ åˆ° $c_i$ å»ºä¸€æ¡è¾¹ï¼Œè¾¹æƒä¸º $y_i$ã€‚</p>
<p>è¿™æ ·å»ºå‡ºçš„ <strong>æœ‰å‘å›¾</strong>ï¼Œå®ƒçš„æ¯ä¸ªé¡¶ç‚¹éƒ½å¯¹åº”å·®åˆ†çº¦æŸç³»ç»Ÿä¸­çš„ä¸€ä¸ªæœªçŸ¥é‡ï¼Œ<strong>æºç‚¹åˆ°æ¯ä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·¯å¯¹åº”è¿™äº›æœªçŸ¥é‡çš„å€¼</strong>ï¼Œè€Œæ¯æ¡ è¾¹ å¯¹åº”ä¸€ä¸ª çº¦æŸæ¡ä»¶ã€‚</p>
<p>$\begin{cases} x_1 - x_2 \leqslant 3\ x_2 - x_3 \leqslant -2\ x_1 - x_3 \leqslant 1 \end{cases}$ <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="å›¾/å·®åˆ†çº¦æŸ.png"
                      alt="å·®åˆ†çº¦æŸ" style="zoom: 16%;" 
                ></p>
<p>é‚£ä¹ˆæ—¢ç„¶æ˜¯æœ€çŸ­è·¯ï¼Œæºç‚¹åœ¨å“ªï¼Ÿå®é™…ä¸Šå–å“ªä¸ªç‚¹ä¸ºæºç‚¹æ— å…³ç´§è¦ï¼Œä½†æ˜¯æœ‰æ—¶å€™å¾—åˆ°çš„å›¾ä¸è¿é€šï¼Œè¿™æ ·æ±‚å‡ºçš„ç»“æ„å¾ˆå®¹æ˜“å‡ºç° INFã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬äººä¸ºå¢åŠ ä¸€ä¸ª <strong>è¶…çº§æºç‚¹</strong>ã€‚</p>
<p>ä¾‹å¦‚åœ¨ä¸Šé¢çš„å›¾ä¸­äººä¸ºå¢åŠ ä¸€ä¸ª 0 å·ç‚¹ï¼ˆæˆ– n+1 å·ç‚¹ï¼‰ï¼Œä»å®ƒå‘æ‰€æœ‰é¡¶ç‚¹è¿ä¸€æ¡è¾¹æƒä¸º 0 çš„è¾¹ï¼š</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://pic2.zhimg.com/v2-77e41054d2ea49e8f61ce8d98fa3c20d_b.jpg"
                      alt="img" style="zoom: 50%;" 
                >

<p>ç°åœ¨æˆ‘ä»¬ä»¥ 0 å·ç‚¹ä¸ºæºç‚¹æ±‚å„ç‚¹çš„æœ€çŸ­è·¯å³å¯ã€‚æ³¨æ„è¿™ç›¸å½“äºæ·»åŠ äº†ä»¥ä¸‹çº¦æŸæ¡ä»¶ï¼š</p>
<p>$\begin{cases} x_1 - x_0 \leqslant 0\ x_2 - x_0 \leqslant 0\ x_3 - x_0 \leqslant 0 \end{cases}$</p>
<p>ç”±äº $x_0$ å¯¹åº”çš„æ˜¯ $dist[0]$ï¼Œè€Œ $dist[0] &#x3D; 0$ï¼Œå¯çŸ¥æ‰€æœ‰æœªçŸ¥é‡å‡å°äºç­‰äº 0ï¼ˆåæ˜ åœ¨å›¾å½¢ä¸Šæ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯ å‡å°äºç­‰äº 0ï¼‰ã€‚å®é™…ä¸Šæˆ‘ä»¬å¾€å¾€è¦æ±‚çš„æ˜¯éè´Ÿè§£ã€‚å› ä¸ºè¿™åªæ˜¯ä¸€ç»„è§£ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ç»„è§£ä¸ŠåŠ ä¸Šæˆ–å‡å»åŒä¸€ä¸ªæ•°ï¼Œå¾—åˆ°çš„è§£åŒæ ·ç¬¦åˆåŸç³»ç»Ÿã€‚æ­¤æ—¶ï¼Œå¯¹ $x_j-x_i â‰¤k$ è¿ä¸€æ¡è¾¹æƒä¸º k çš„æœ‰å‘è¾¹ $&lt;i, j&gt;$ï¼Œæ­¤æ—¶ç”¨ $x_j$ è¡¨ç¤ºè¶…çº§æºç‚¹åˆ° $j$ çš„æœ€çŸ­è·¯ï¼Œç”¨ $x_i$ è¡¨ç¤ºè¶…çº§æºç‚¹åˆ° $i$ çš„æœ€çŸ­è·¯ï¼Œç”±äº è¾¹ $&lt;i,j&gt;$ å­˜åœ¨ï¼Œä»è€Œ $x_j â‰¤ x_i+k$ ï¼Œå³ä¸ºåŸä¸ç­‰å¼çš„å˜å½¢ã€‚</p>
<p>åœ¨æœ‰è§£çš„æƒ…å†µä¸‹ï¼Œæœ€çŸ­è·¯çš„ç­”æ¡ˆ $d_i$ å°±æ˜¯åŸä¸ç­‰å¼çš„è§£ã€‚</p>
<p><strong>è¿è¾¹æ–¹æ³•</strong></p>
<p>å·®åˆ†çº¦æŸé—®é¢˜å¯ä»¥è½¬åŒ–ä¸º æœ€çŸ­è·¯ æˆ– æœ€é•¿è·¯é—®é¢˜ï¼Œæ‰€ä»¥ä¸¤ç§è½¬åŒ–ä¹Ÿå°±æˆäº†ä¸¤ç§ä¸åŒçš„è¿è¾¹æ–¹æ³•ã€‚</p>
<ul>
<li><p>è¿è¾¹åæ±‚æœ€çŸ­è·¯</p>
<p>å°† $x_j-x_i â‰¤ k$ å˜å½¢ä¸º $x_jâ‰¤x_i+k$ ï¼Œå³ä» $i$ åˆ° $j$ è¿ä¸€æ¡è¾¹æƒä¸º ï½‹çš„è¾¹ã€‚åŠ å…¥è¶…çº§æºç‚¹åæ±‚æœ€çŸ­è·¯ï¼Œå¾—åˆ° $x_iâ‰¤0$ çš„æ‰€æœ‰xæœ€å¤§è§£ã€‚</p>
</li>
<li><p>è¿è¾¹åæ±‚æœ€é•¿è·¯</p>
<p>å°†$x_j-x_iâ‰¤k$ å˜å½¢ä¸º $x_iâ‰¥x_j-k$ï¼Œå³ä» $j$ åˆ° $i$ è¿ä¸€æ¡è¾¹æƒä¸º -k çš„è¾¹ï¼ŒåŠ å…¥è¶…çº§æºç‚¹åæ±‚æœ€é•¿è·¯ï¼Œå¾—åˆ° $x_iâ‰¥0$ çš„æ‰€æœ‰xæœ€å¤§è§£ã€‚</p>
</li>
</ul>
<p>å¦‚æœå›¾å­˜åœ¨è´Ÿç¯ï¼Œå¦‚æœä¸€ç›´æ²¿ç€è´Ÿç¯èµ°ï¼Œæœ€çŸ­è·¯å¾„å°†ä¼šè¶Šæ¥è¶Šå°ï¼Œæœ€ååˆ°è¾¾ $âˆ’âˆ$ï¼Œåˆ™ä¸ç­‰å¼ç»„æ— è§£ã€‚</p>
<p>æ­¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ SPFAï¼Œåªéœ€è¦åœ¨ä½¿ç”¨ SPFA çš„åŒæ—¶ç”¨ä¸€ä¸ªæ•°ç»„æ¥è®°å½•æ¯ä¸ªé¡¶ç‚¹å…¥é˜Ÿæ¬¡æ•°ï¼Œå¦‚æœä¸€ä¸ªé¡¶ç‚¹å…¥é˜Ÿæ¬¡æ•°å¤§äº nï¼Œè¯´æ˜è¯¥å›¾å­˜åœ¨è´Ÿç¯ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>
<p>ä¸€ã€<code>SPFA</code></p>
<ol>
<li><strong>ä¸€å¼€å§‹å°†æ‰€æœ‰ç‚¹æ”¾å…¥é˜Ÿåˆ—</strong>ä¸­è€Œä¸æ˜¯åªæ”¾ä¸€ä¸ªèµ·ç‚¹ï¼Œè¿™æ ·æ¯ä¸ªç‚¹éƒ½è¢«ä½œä¸ºèµ·ç‚¹è®¨è®ºè¿‡ã€‚</li>
<li><strong>å»ºä¸€ä¸ªè™šæ‹Ÿæºç‚¹ 0ï¼Œä»è¿™ä¸ªè™šæ‹Ÿæºç‚¹å‘å…¶ä»–æ‰€æœ‰ç‚¹éƒ½è¿ä¸€æ¡é•¿åº¦ä¸º 0 çš„è¾¹ï¼Œä»¥è™šæ‹Ÿæºç‚¹ä¸ºèµ·ç‚¹æ”¾å…¥é˜Ÿåˆ—</strong>ï¼Œè¿™æ ·çš„æ•ˆæœä¸å‰ä¸€ç§å®Œå…¨ç›¸åŒã€‚</li>
</ol>
<p>äºŒã€<code>Bellman-Ford</code></p>
<p><strong>æ— éœ€æ“ä½œ</strong>ï¼Œç®—å‡ºæ¥çš„ç­”æ¡ˆæœ¬æ¥å°±æ˜¯æ­£ç¡®çš„ã€‚</p>
<p>å› ä¸ºæ¯æ¬¡æ¾å¼›æ˜¯<strong>å¯¹æ‰€æœ‰è¾¹è¿›è¡Œæ“ä½œ</strong>ï¼Œä¸ä¼šå‡ºç°åªè®¡ç®—ä¸€ä¸ªè¿é€šå—çš„æƒ…å†µã€‚</p>
<p><strong>ä»£ç </strong></p>
<ul>
<li><p>æœ€çŸ­è·¯ + SPFA</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">vector&lt;vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;&gt; graph;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; dis;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">spfa</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">inque</span><span class="params">(n+<span class="number">1</span>, <span class="literal">false</span>)</span></span>;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt;  <span class="title">vis</span><span class="params">(n+<span class="number">1</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line">	queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">	q.<span class="built_in">push</span>(<span class="number">0</span>);</span><br><span class="line">	dis[<span class="number">0</span>] = <span class="number">0</span>, vis[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> cur = q.<span class="built_in">front</span>();</span><br><span class="line">		q.<span class="built_in">pop</span>();</span><br><span class="line">		inque[cur] = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;graph[cur].<span class="built_in">size</span>(); i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">int</span> nx = graph[cur][i].first;</span><br><span class="line">			<span class="type">int</span> len = graph[cur][i].second;</span><br><span class="line">			<span class="keyword">if</span>(dis[nx] &gt; dis[cur] + len)</span><br><span class="line">			&#123;</span><br><span class="line">				dis[nx] = dis[cur]+len;</span><br><span class="line">				<span class="keyword">if</span>(!inque[nx])</span><br><span class="line">				&#123;</span><br><span class="line">					q.<span class="built_in">push</span>(nx);</span><br><span class="line">					inque[nx] = <span class="literal">true</span>;</span><br><span class="line">					vis[nx]++;</span><br><span class="line">					<span class="keyword">if</span>(vis[nx] &gt; n+<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">	graph.<span class="built_in">resize</span>(n+<span class="number">1</span>), dis.<span class="built_in">resize</span>(n+<span class="number">1</span>), dis.<span class="built_in">assign</span>(n+<span class="number">1</span>, INT_MAX);</span><br><span class="line">	<span class="keyword">while</span>(m--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> a, b, c;</span><br><span class="line">		cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">		graph[b].<span class="built_in">emplace_back</span>(a, c); <span class="comment">//æ³¨æ„ï¼Œä¸è¦æŠŠ a å’Œ b çš„ä½ç½®æ”¾åäº†</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		graph[<span class="number">0</span>].<span class="built_in">emplace_back</span>(i, <span class="number">0</span>); </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(!<span class="built_in">spfa</span>()) cout &lt;&lt; <span class="string">&quot;NO&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">			cout &lt;&lt; dis[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>æœ€é•¿è·¯ + SPFA</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨ä¸Šé¢çš„ä»£ç åŸºç¡€ä¸Šåªéœ€ä¿®æ”¹éƒ¨åˆ†åœ°æ–¹ï¼š</span></span><br><span class="line">dis[nx] &lt; dis[cur] + len</span><br><span class="line">dis.<span class="built_in">assign</span>(n+<span class="number">1</span>, -INT_MAX);</span><br><span class="line">graph[a].<span class="built_in">emplace_back</span>(b, c);</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>æœ€çŸ­è·¯ + Bellman-Ford</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">edge</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x, y, l;</span><br><span class="line">&#125;;</span><br><span class="line">vector&lt;edge&gt; e;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; dis;</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Bellman_Ford</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    dis[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;n; i++) <span class="comment">//è¿›è¡Œ n-1 æ¬¡æ¾å¼›æ“ä½œ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j&lt;=m; j++)</span><br><span class="line">			dis[e[j].y] = <span class="built_in">min</span>(dis[e[j].y], dis[e[j].x]+e[j].l);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">        <span class="keyword">if</span>(dis[e[i].x] + e[i].l &lt; dis[e[i].y]) <span class="comment">//å¦‚æœè¿˜æ¾å¼›</span></span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">	e.<span class="built_in">resize</span>(m+<span class="number">1</span>), dis.<span class="built_in">resize</span>(n+<span class="number">1</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		cin &gt;&gt; e[i].y &gt;&gt; e[i].x &gt;&gt; e[i].l;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">Bellman_Ford</span>())</span><br><span class="line">   		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=n; i++) cout &lt;&lt; dis[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;NO&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h3 id="åŒä½™æœ€çŸ­è·¯"><a href="#åŒä½™æœ€çŸ­è·¯" class="headerlink" title="åŒä½™æœ€çŸ­è·¯"></a>åŒä½™æœ€çŸ­è·¯</h3><p>å½“å‡ºç°å½¢å¦‚ã€Œç»™å®š n ä¸ªæ•´æ•°ï¼Œæ±‚è¿™ n ä¸ªæ•´æ•°èƒ½æ‹¼å‡‘å‡ºå¤šå°‘çš„å…¶ä»–æ•´æ•°ï¼ˆn ä¸ªæ•´æ•°å¯ä»¥é‡å¤å–ï¼‰ã€ï¼Œä»¥åŠã€Œç»™å®š n ä¸ªæ•´æ•°ï¼Œæ±‚è¿™ n ä¸ªæ•´æ•°ä¸èƒ½æ‹¼å‡‘å‡ºçš„æœ€å°ï¼ˆæœ€å¤§ï¼‰çš„æ•´æ•°ã€ï¼Œæˆ–è€…ã€Œè‡³å°‘è¦æ‹¼å‡ æ¬¡æ‰èƒ½æ‹¼å‡ºæ¨¡ K ä½™ p çš„æ•°ã€çš„é—®é¢˜æ—¶å¯ä»¥ä½¿ç”¨åŒä½™æœ€çŸ­è·¯çš„æ–¹æ³•ã€‚</p>
<p>åŒä½™æœ€çŸ­è·¯åˆ©ç”¨åŒä½™æ¥æ„é€ ä¸€äº›çŠ¶æ€ï¼Œå¯ä»¥è¾¾åˆ°ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦çš„ç›®çš„ã€‚</p>
<p>åˆ©ç”¨åŒä½™æ„é€ çš„çŠ¶æ€å¯ä»¥çœ‹ä½œå•æºæœ€çŸ­è·¯ä¸­çš„ç‚¹ã€‚åŒä½™æœ€çŸ­è·¯çš„çŠ¶æ€è½¬ç§»æ˜¯$f(i+y) &#x3D; f(i) + y$ï¼Œç±»ä¼¼å•æºæœ€çŸ­è·¯ä¸­ $f(v) &#x3D; f(u) +edge(u,v)$ã€‚</p>
<h2 id="ç®—æ³•é¢˜è§£ğŸ”‘"><a href="#ç®—æ³•é¢˜è§£ğŸ”‘" class="headerlink" title="ç®—æ³•é¢˜è§£ğŸ”‘"></a>ç®—æ³•é¢˜è§£ğŸ”‘</h2><h3 id="æ·±åº¦ä¼˜å…ˆæœç´¢åŸºç¡€dfs-basic"><a href="#æ·±åº¦ä¼˜å…ˆæœç´¢åŸºç¡€dfs-basic" class="headerlink" title="æ·±åº¦ä¼˜å…ˆæœç´¢åŸºç¡€dfs basic"></a>æ·±åº¦ä¼˜å…ˆæœç´¢åŸºç¡€dfs basic</h3><p><code>Description</code></p>
<p>è¾“å…¥ä¸€ä¸ªæœ‰å‘å›¾ï¼Œä»é¡¶ç‚¹1å¼€å§‹ï¼ŒæŒ‰ç…§æ ‡å·ä»å°åˆ°å¤§åšdfsï¼Œå¯¹è¾¹è¿›è¡Œåˆ†ç±»ã€‚</p>
<p>æˆ‘ä»¬åœ¨åšdfsçš„æ—¶å€™ï¼Œå½“è®¿é—®åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œä¼šå‡ºç°å››ç§æƒ…å†µï¼š</p>
<p>1.æ­¤èŠ‚ç‚¹æœªè¢«è®¿é—®è¿‡ï¼Œåˆ™æ­¤æ¬¡çš„è®¿é—®å…³ç³»è¾¹ï¼ˆå‘èµ·ç‚¹â€”â€”&gt;æ¥å—ç‚¹ï¼‰ç§°ä¸ºæ ‘è¾¹ï¼ˆtree edgeï¼‰ï¼›</p>
<p>2.æ­¤èŠ‚ç‚¹è¢«è®¿é—®è¿‡ä½†æ­¤èŠ‚ç‚¹çš„å­å­™è¿˜æ²¡è®¿é—®å®Œï¼Œæ¢å¥è¯è¯´ï¼Œæ­¤æ¬¡çš„å‘èµ·ç‚¹çš„æºå¤´å¯ä»¥è¿½æº¯åˆ°æ¥æ”¶ç‚¹ï¼Œåˆ™æ­¤æ¬¡è®¿é—®å…³ç³»è¾¹ç§°ä¸ºåå‘è¾¹ï¼ˆback edgeï¼‰ï¼›</p>
<p>3.æ­¤èŠ‚ç‚¹è¢«è®¿é—®è¿‡ä¸”æ­¤èŠ‚ç‚¹çš„å­å­™å·²ç»è®¿é—®å®Œï¼Œè€Œä¸”å‘èµ·ç‚¹æ˜¯æœç´¢åˆå§‹è¾¹ï¼Œåˆ™ç§°ä¸ºå‰å‘è¾¹ï¼ˆdown edgeï¼‰ï¼›</p>
<p>4.æ­¤èŠ‚ç‚¹è¢«è®¿é—®è¿‡ä¸”æ­¤èŠ‚ç‚¹çš„å­å­™å·²ç»è®¿é—®å®Œï¼Œè€Œä¸”å‘èµ·ç‚¹ä¸æ˜¯æœç´¢åˆå§‹è¾¹ï¼Œåˆ™ç§°ä¸ºæ¨ªå‰è¾¹ï¼ˆcross edgeï¼‰ã€‚</p>
<p><code>Input</code></p>
<p>è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°nå’Œmï¼Œnæ˜¯å›¾çš„é¡¶ç‚¹æ•°ï¼Œmæ˜¯è¾¹æ•°ã€‚1&lt;&#x3D;n&lt;&#x3D;100ï¼Œ0&lt;&#x3D;m&lt;&#x3D;10000ã€‚</p>
<p>æ¥ä¸‹æ¥çš„mè¡Œï¼Œæ¯è¡Œæ˜¯ä¸€ä¸ªæ•°å¯¹u vï¼Œè¡¨ç¤ºå­˜åœ¨æœ‰å‘è¾¹(u,v)ã€‚é¡¶ç‚¹ç¼–å·ä»1å¼€å§‹ã€‚</p>
<p>æ¥ä¸‹æ¥çš„1è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°kï¼Œè¡¨ç¤ºä¼šæŸ¥è¯¢kæ¡è¾¹çš„ç±»å‹ã€‚</p>
<p>æ¥ä¸‹æ¥çš„kè¡Œï¼Œæ¯è¡Œæ˜¯ä¸€ä¸ªæ•°å¯¹u vï¼Œè¡¨ç¤ºæŸ¥è¯¢è¾¹u vçš„ç±»å‹ã€‚</p>
<p><code>Output</code></p>
<p>å¯¹æ¯æ¡æŸ¥è¯¢çš„è¾¹ï¼Œå•ç‹¬ä¸€è¡Œè¾“å‡ºè¾¹çš„ç±»å‹ï¼Œå‚è§è¾“å‡ºæ ·ä¾‹ã€‚</p>
<p><code>Sample InputCopy</code> </p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">4 6</span><br><span class="line">1 2</span><br><span class="line">2 3</span><br><span class="line">3 1</span><br><span class="line">1 3</span><br><span class="line">1 4</span><br><span class="line">4 2</span><br><span class="line">4</span><br><span class="line">1 2</span><br><span class="line">3 1</span><br><span class="line">1 3</span><br><span class="line">4 2</span><br></pre></td></tr></table></figure></div>

<p><code>Sample OutputCopy</code></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">edge (1,2) is Tree Edge</span><br><span class="line">edge (3,1) is Back Edge</span><br><span class="line">edge (1,3) is Down Edge</span><br><span class="line">edge (4,2) is Cross Edge</span><br></pre></td></tr></table></figure></div>

<p>ç­”æ¡ˆï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">bool</span> matrix[<span class="number">101</span>][<span class="number">101</span>]; </span><br><span class="line"><span class="type">bool</span> isvisited[<span class="number">101</span>];</span><br><span class="line"><span class="type">int</span> edgeKind[<span class="number">101</span>][<span class="number">101</span>];</span><br><span class="line"><span class="type">int</span> vers, edges;</span><br><span class="line">string kind[<span class="number">4</span>] = &#123;<span class="string">&quot;Tree Edge&quot;</span>, <span class="string">&quot;Back Edge&quot;</span>, <span class="string">&quot;Cross Edge&quot;</span>, <span class="string">&quot;Down Edge&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isAllVisited</span><span class="params">(<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=vers; i++)</span><br><span class="line">		<span class="keyword">if</span>(matrix[v][i]&amp;&amp;(!isvisited[i])) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DFS</span><span class="params">(<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=vers; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(matrix[v][i])&#123;</span><br><span class="line">			<span class="keyword">if</span>(!isvisited[i])&#123;</span><br><span class="line">				isvisited[i] = <span class="number">1</span>;</span><br><span class="line">				edgeKind[v][i] = <span class="number">0</span>;</span><br><span class="line">				<span class="built_in">DFS</span>(i);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(!<span class="built_in">isAllVisited</span>(i)) edgeKind[v][i] = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(v != <span class="number">1</span>) edgeKind[v][i] = <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">else</span> edgeKind[v][i] = <span class="number">3</span>;</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin &gt;&gt; vers &gt;&gt; edges;</span><br><span class="line">	<span class="built_in">memset</span>(matrix, <span class="literal">false</span>, <span class="number">101</span>*<span class="number">101</span>*<span class="built_in">sizeof</span>(<span class="type">bool</span>));</span><br><span class="line">	<span class="built_in">memset</span>(isvisited, <span class="literal">false</span>, <span class="number">101</span> * <span class="built_in">sizeof</span>(<span class="type">bool</span>));</span><br><span class="line">	<span class="built_in">memset</span>(edgeKind, <span class="number">-1</span>, (vers + <span class="number">1</span>) * (vers + <span class="number">1</span>) * <span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> a, b;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;edges; i++)&#123;</span><br><span class="line">		cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">		matrix[a][b] = <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	isvisited[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">	<span class="built_in">DFS</span>(<span class="number">1</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> test;</span><br><span class="line">	cin &gt;&gt; test;</span><br><span class="line">	<span class="keyword">while</span>(test--)&#123;</span><br><span class="line">		cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;edge (&quot;</span> &lt;&lt; a &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; b &lt;&lt; <span class="string">&quot;) is &quot;</span> &lt;&lt; kind[edgeKind[a][b]] &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>





<h3 id="æœ€å°ç”Ÿæˆæ ‘-1"><a href="#æœ€å°ç”Ÿæˆæ ‘-1" class="headerlink" title="æœ€å°ç”Ÿæˆæ ‘"></a>æœ€å°ç”Ÿæˆæ ‘</h3><p><a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/min-cost-to-connect-all-points/description/?orderBy=most_votes&languageTags=cpp" >åŠ›æ‰£1584.è¿æ¥æ‰€æœ‰ç‚¹çš„æœ€å°è´¹ç”¨ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> </p>
<p>ç»™ä½ ä¸€ä¸ª<code>points</code> æ•°ç»„ï¼Œè¡¨ç¤º 2D å¹³é¢ä¸Šçš„ä¸€äº›ç‚¹ï¼Œå…¶ä¸­ <code>points[i] = [xi, yi]</code> ã€‚</p>
<p>è¿æ¥ç‚¹ <code>[xi, yi]</code> å’Œç‚¹ <code>[xj, yj]</code> çš„è´¹ç”¨ä¸ºå®ƒä»¬ä¹‹é—´çš„ <strong>æ›¼å“ˆé¡¿è·ç¦»</strong> ï¼š<code>|xi - xj| + |yi - yj|</code> ï¼Œå…¶ä¸­ <code>|val|</code> è¡¨ç¤º <code>val</code> çš„ç»å¯¹å€¼ã€‚</p>
<p>è¯·ä½ è¿”å›å°†æ‰€æœ‰ç‚¹è¿æ¥çš„æœ€å°æ€»è´¹ç”¨ã€‚åªæœ‰ä»»æ„ä¸¤ç‚¹ä¹‹é—´ <strong>æœ‰ä¸”ä»…æœ‰</strong> ä¸€æ¡ç®€å•è·¯å¾„æ—¶ï¼Œæ‰è®¤ä¸ºæ‰€æœ‰ç‚¹éƒ½å·²è¿æ¥ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://assets.leetcode.com/uploads/2020/08/26/d.png"
                      alt="img"
                ></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špoints = [[0,0],[2,2],[3,10],[5,2],[7,0]]</span><br><span class="line">è¾“å‡ºï¼š20</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸Šå›¾æ‰€ç¤ºè¿æ¥æ‰€æœ‰ç‚¹å¾—åˆ°æœ€å°æ€»è´¹ç”¨ï¼Œæ€»è´¹ç”¨ä¸º 20 ã€‚</span><br><span class="line">æ³¨æ„åˆ°ä»»æ„ä¸¤ä¸ªç‚¹ä¹‹é—´åªæœ‰å”¯ä¸€ä¸€æ¡è·¯å¾„äº’ç›¸åˆ°è¾¾ã€‚</span><br></pre></td></tr></table></figure></div>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špoints = [[3,12],[-2,5],[-4,1]]</span><br><span class="line">è¾“å‡ºï¼š18</span><br></pre></td></tr></table></figure></div>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špoints = [[0,0],[1,1],[1,0],[-1,1]]</span><br><span class="line">è¾“å‡ºï¼š4</span><br></pre></td></tr></table></figure></div>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špoints = [[-1000000,-1000000],[1000000,1000000]]</span><br><span class="line">è¾“å‡ºï¼š4000000</span><br></pre></td></tr></table></figure></div>

<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼špoints = [[0,0]]</span><br><span class="line">è¾“å‡ºï¼š0</span><br></pre></td></tr></table></figure></div>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= points.length &lt;= 1000</code></li>
<li><code>-106 &lt;= xi, yi &lt;= 106</code></li>
<li>æ‰€æœ‰ç‚¹ <code>(xi, yi)</code> ä¸¤ä¸¤ä¸åŒã€‚</li>
</ul>
<p>æ–¹æ³•ä¸€ï¼šPrim ç®—æ³•</p>
<ol>
<li>éšæœºé€‰æ‹©ä¸€ä¸ªèµ·ç‚¹ï¼Œå°†å…¶åŠ å…¥é›†åˆ$V_{new}$ï¼ˆ$V_{new}$ä¿å­˜å·²ç»åŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘çš„èŠ‚ç‚¹ï¼‰ä¸­ã€‚åŒæ—¶ï¼Œæ›´æ–°æ­¤æ—¶çš„æ•°ç»„ lowcost ï¼ˆä¿å­˜Vä¸­æ¯ä¸ªèŠ‚ç‚¹è·ç¦»é›†åˆ$V_{new}$ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ï¼‰å’Œæ•°ç»„ vï¼ˆä¿å­˜ä¸ºåŠ å…¥æœ€å°ç”Ÿæˆæ ‘çš„ç»“ç‚¹ï¼Œv[i]&#x3D;0æœªåŠ å…¥ï¼Œv[i]&#x3D;1 åŠ å…¥ï¼‰</li>
<li>éå† lowcostï¼Œå¯»æ‰¾ lowcost ä¸­çš„æœ€å°å€¼ï¼Œå‡è®¾ä¸‹æ ‡ä¸º jï¼Œåˆ™ j ä¸º é›†åˆV ä¸­ç¦»é›†åˆ$V_{new}$æœ€è¿‘çš„ç‚¹ï¼Œå°†ä¸ä¸‹æ ‡ j å¯¹åº”çš„èŠ‚ç‚¹åŠ å…¥ $V_{new}$ä¸­ï¼Œå¹¶æ›´æ–°æ•°ç»„ lowcost å’Œ æ•°ç»„ v</li>
<li>æ‰¾åˆ° lowcost ä¸­çš„æœ€å°å€¼ j åï¼Œæ­¤æ—¶æ•°ç»„ lowcost ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦æ›´æ–°ï¼Œå› æ­¤æ­¤æ—¶é›†åˆ$V_{new}$ä¸­çš„èŠ‚ç‚¹å¢åŠ äº†èŠ‚ç‚¹ jï¼Œé›†åˆVä¸­çš„èŠ‚ç‚¹ç¦»$V_{new}$çš„æœ€è¿‘è·ç¦»å¯èƒ½ç¼©çŸ­ã€‚</li>
<li>æ ¹æ®æ–°åŠ å…¥é›†åˆ$V_{new}$ä¸­çš„èŠ‚ç‚¹ jï¼Œæ›´æ–°é›†åˆVä¸­å‰©ä½™æ‰€æœ‰èŠ‚ç‚¹çš„lowcostã€‚</li>
<li>é‡å¤æ­¥éª¤2ï¼Œç›´åˆ°è®¿é—®æ‰€æœ‰çš„èŠ‚ç‚¹ã€‚</li>
</ol>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://pic.leetcode-cn.com/1611023745-EuGMdh-image.png"
                      alt="image.png"
                ></p>
<p>ç»å¦™çš„è§£é¢˜ä»£ç ï¼š</p>
<p>ä¸»è¦çš„æ€æƒ³æ˜¯ï¼šPrimç®—æ³•</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minCostConnectPoints</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; points)</span> </span>&#123;</span><br><span class="line">        <span class="type">int</span> size = points.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span>(size &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="function">unordered_map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">dist</span><span class="params">(size)</span></span>;</span><br><span class="line">        <span class="comment">//å­˜å‚¨å‰©ä½™ç‚¹åˆ°é›†åˆçš„è·ç¦»ï¼Œæ¯æ¬¡æ·»åŠ æ—¶éƒ½ä¼šä¸æ–­æ›´æ–°</span></span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i&lt;size; i++)&#123;</span><br><span class="line">            dist.<span class="built_in">emplace</span>(i, INT_MAX);</span><br><span class="line">            <span class="comment">//firstå­˜å‚¨ä¸‹æ ‡ï¼Œsecondå­˜å‚¨ä¸é›†åˆçš„æœ€è¿‘è·ç¦»ï¼ˆéœ€è¦å®æ—¶æ›´æ–°ï¼‰</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> minnode;<span class="comment">//è®°å½•æ¯æ¬¡å¾ªç¯çš„æœ€å°é•¿åº¦å¯¹åº”çš„å‰©ä½™ç‚¹</span></span><br><span class="line">        <span class="type">int</span> minlen;<span class="comment">//è®°å½•æ¯æ¬¡å¾ªç¯çš„æœ€å°é•¿åº¦</span></span><br><span class="line">        <span class="type">int</span> lensum = <span class="number">0</span>;<span class="comment">//æ€»å’Œ</span></span><br><span class="line">        dist[<span class="number">0</span>] = <span class="number">0</span>;<span class="comment">//æŠŠç¬¬ä¸€ä¸ªç‚¹ä½œä¸ºèµ·å§‹ç‚¹ï¼Œå…ˆå°†å…¶è·ç¦»è®¾ä¸º0ï¼Œåœ¨ç¬¬ä¸€æ¬¡å¾ªç¯å°†å…¶çº³å…¥ç‚¹é›†ä¸­</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;size; i++)&#123;</span><br><span class="line">        <span class="comment">//éå†sizeæ¬¡ï¼Œå°±å¯ä»¥å°†æ‰€æœ‰çš„ç‚¹çº³å…¥ç‚¹é›†ï¼Œå½¢æˆæœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line">            minlen = INT_MAX;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; p: dist)&#123;<span class="comment">//éå†å‰©ä¸‹çš„ç‚¹</span></span><br><span class="line">                <span class="keyword">if</span>(p.second &lt; minlen)&#123;<span class="comment">//æ›´æ–°æœ€å°ç‚¹å’Œæœ€å°è·ç¦»</span></span><br><span class="line">                    minlen = p.second;</span><br><span class="line">                    minnode = p.first;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            lensum+=minlen;<span class="comment">//æ›´æ–°æœ€çŸ­è·ç¦»</span></span><br><span class="line">            dist.<span class="built_in">erase</span>(minnode);<span class="comment">//åˆ é™¤æœ€å°è·ç¦»ç‚¹</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; p:dist)&#123;<span class="comment">//æ›´æ–°å‰©ä½™ç‚¹åˆ°é›†åˆçš„æœ€çŸ­è·¯å¾„</span></span><br><span class="line">                p.second = <span class="built_in">min</span>(p.second, (<span class="built_in">abs</span>(points[p.first][<span class="number">0</span>]-points[minnode][<span class="number">0</span>])+<span class="built_in">abs</span>(points[p.first][<span class="number">1</span>]-points[minnode][<span class="number">1</span>])));<span class="comment">//åœ¨ä¸æ–°çº³å…¥ç‚¹è·ç¦»å’Œä¸ä¹‹å‰é›†åˆçš„æœ€å°è·ç¦»ä¸­æ±‚æœ€å°</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> lensum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>



<p><strong>åŠ›æ‰£1135.æœ€ä½æˆæœ¬è¿é€šæ‰€æœ‰åŸå¸‚ï¼ˆç¨€ç–å›¾ï¼‰</strong></p>
<p>æƒ³è±¡ä¸€ä¸‹ä½ æ˜¯ä¸ªåŸå¸‚åŸºå»ºè§„åˆ’è€…ï¼Œåœ°å›¾ä¸Šæœ‰ N åº§åŸå¸‚ï¼Œå®ƒä»¬æŒ‰ä»¥ 1 åˆ° N çš„æ¬¡åºç¼–å·ã€‚</p>
<p>ç»™ä½ ä¸€äº›å¯è¿æ¥çš„é€‰é¡¹ connectionsï¼Œå…¶ä¸­æ¯ä¸ªé€‰é¡¹ <code>connections[i] = [city1, city2, cost]</code> è¡¨ç¤ºå°†åŸå¸‚ city1 å’ŒåŸå¸‚ city2 è¿æ¥æ‰€è¦çš„æˆæœ¬ã€‚ï¼ˆè¿æ¥æ˜¯åŒå‘çš„ï¼Œä¹Ÿå°±æ˜¯è¯´åŸå¸‚ city1 å’ŒåŸå¸‚ city2 ç›¸è¿ä¹ŸåŒæ ·æ„å‘³ç€åŸå¸‚ city2 å’ŒåŸå¸‚ city1 ç›¸è¿ï¼‰ã€‚</p>
<p>è¿”å›ä½¿å¾—æ¯å¯¹åŸå¸‚é—´éƒ½å­˜åœ¨å°†å®ƒä»¬è¿æ¥åœ¨ä¸€èµ·çš„è¿é€šè·¯å¾„ï¼ˆå¯èƒ½é•¿åº¦ä¸º 1 çš„ï¼‰æœ€å°æˆæœ¬ã€‚<br>è¯¥æœ€å°æˆæœ¬åº”è¯¥æ˜¯æ‰€ç”¨å…¨éƒ¨è¿æ¥ä»£ä»·çš„ç»¼åˆã€‚å¦‚æœæ ¹æ®å·²çŸ¥æ¡ä»¶æ— æ³•å®Œæˆè¯¥é¡¹ä»»åŠ¡ï¼Œåˆ™è¯·ä½ è¿”å› -1ã€‚</p>
<p>ç¤ºä¾‹ 1ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šN = <span class="number">3</span>, connections = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>],[<span class="number">1</span>,<span class="number">3</span>,<span class="number">6</span>],[<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">é€‰å‡ºä»»æ„ <span class="number">2</span> æ¡è¾¹éƒ½å¯ä»¥è¿æ¥æ‰€æœ‰åŸå¸‚ï¼Œæˆ‘ä»¬ä»ä¸­é€‰å–æˆæœ¬æœ€å°çš„ <span class="number">2</span> æ¡ã€‚</span><br></pre></td></tr></table></figure></div>

<p>ç¤ºä¾‹ 2ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šN = <span class="number">4</span>, connections = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">-1</span></span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">å³ä½¿è¿é€šæ‰€æœ‰çš„è¾¹ï¼Œä¹Ÿæ— æ³•è¿æ¥æ‰€æœ‰åŸå¸‚ã€‚</span><br></pre></td></tr></table></figure></div>



<p>Kruskal ç®—æ³•ï¼šæ’åº+å¹¶æŸ¥é›†ï¼Œæ›´é€‚åˆç¨€ç–è¡¨</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; parent;<span class="comment">//çˆ¶é›†</span></span><br><span class="line">    <span class="type">int</span> part = <span class="number">0</span>;<span class="comment">//å­˜å‚¨é›†åˆæ•°é‡</span></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> a)</span> </span>&#123; <span class="comment">//å¹¶æŸ¥é›†--æŸ¥æ‰¾</span></span><br><span class="line">        <span class="keyword">if</span> (parent[a] == a)</span><br><span class="line">            <span class="keyword">return</span> a;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">find</span>(parent[a]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">uni</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;<span class="comment">//å¹¶æŸ¥é›†--åˆå¹¶</span></span><br><span class="line">        <span class="type">int</span> pa = <span class="built_in">find</span>(a);</span><br><span class="line">        <span class="type">int</span> pb = <span class="built_in">find</span>(b);</span><br><span class="line">        <span class="keyword">if</span> (pa == pb)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        parent[pa] = pb;<span class="comment">//çˆ¶æ¯ä¸ç›¸åŒï¼Œåˆå¹¶</span></span><br><span class="line">        part --;<span class="comment">//é›†åˆæ•°å‡ä¸€</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">minimumCost</span><span class="params">(<span class="type">int</span> N, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; connections)</span> </span>&#123;</span><br><span class="line">        part = N;<span class="comment">//é›†åˆæ•°åˆå§‹åŒ–ä¸ºç»“ç‚¹æ•°ï¼Œå…ˆæŠŠæ¯ä¸ªç»“ç‚¹çœ‹æˆä¸€ä¸ªé›†åˆ</span></span><br><span class="line">        parent = <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(N, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i) parent[i] = i;<span class="comment">//åˆå§‹åŒ–çˆ¶é›†</span></span><br><span class="line">        <span class="built_in">sort</span>(connections.<span class="built_in">begin</span>(), connections.<span class="built_in">end</span>(),[](<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; a, <span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; b) &#123; </span><br><span class="line">            <span class="keyword">return</span> a[<span class="number">2</span>] &lt; b[<span class="number">2</span>];</span><br><span class="line">        &#125;);<span class="comment">//æŒ‰ è¾¹çš„é•¿åº¦ ä»å°åˆ°è¾¾æ’åˆ—</span></span><br><span class="line">        <span class="type">int</span> res = <span class="number">0</span>;<span class="comment">//æœ€å°é•¿åº¦</span></span><br><span class="line">        <span class="keyword">for</span> (vector&lt;<span class="type">int</span>&gt;&amp; conn : connections) &#123;<span class="comment">//éå†é›†åˆ</span></span><br><span class="line">            <span class="type">int</span> a = conn[<span class="number">0</span>] - <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> b = conn[<span class="number">1</span>] - <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> cost = conn[<span class="number">2</span>];</span><br><span class="line">            <span class="type">int</span> pa = <span class="built_in">find</span>(a);<span class="comment">//a çš„çˆ¸çˆ¸</span></span><br><span class="line">            <span class="type">int</span> pb = <span class="built_in">find</span>(b);<span class="comment">//b çš„çˆ¸çˆ¸</span></span><br><span class="line">            <span class="keyword">if</span> (pa != pb) &#123;<span class="comment">//a,bä¸åœ¨åŒä¸€é›†åˆé‡Œé¢ï¼Œå°±è¿›è¡Œåˆå¹¶</span></span><br><span class="line">                <span class="built_in">uni</span>(a, b);</span><br><span class="line">                res += cost;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (part == <span class="number">1</span>)<span class="comment">//é›†åˆæ•°ä¸º1</span></span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>



<h3 id="Dijkstra-ç®—æ³•-1"><a href="#Dijkstra-ç®—æ³•-1" class="headerlink" title="Dijkstra ç®—æ³•"></a>Dijkstra ç®—æ³•</h3><p>  <a class="link"   target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-with-maximum-probability/description/" >åŠ›æ‰£1514.æ¦‚ç‡æœ€å¤§çš„è·¯å¾„ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> </p>
<p>ç»™ä½ ä¸€ä¸ªç”± <code>n</code> ä¸ªèŠ‚ç‚¹ï¼ˆä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ç»„æˆçš„æ— å‘åŠ æƒå›¾ï¼Œè¯¥å›¾ç”±ä¸€ä¸ªæè¿°è¾¹çš„åˆ—è¡¨ç»„æˆï¼Œå…¶ä¸­ <code>edges[i] = [a, b]</code> è¡¨ç¤ºè¿æ¥èŠ‚ç‚¹ a å’Œ b çš„ä¸€æ¡æ— å‘è¾¹ï¼Œä¸”è¯¥è¾¹éå†æˆåŠŸçš„æ¦‚ç‡ä¸º <code>succProb[i]</code> ã€‚</p>
<p>æŒ‡å®šä¸¤ä¸ªèŠ‚ç‚¹åˆ†åˆ«ä½œä¸ºèµ·ç‚¹ <code>start</code> å’Œç»ˆç‚¹ <code>end</code> ï¼Œè¯·ä½ æ‰¾å‡ºä»èµ·ç‚¹åˆ°ç»ˆç‚¹æˆåŠŸæ¦‚ç‡æœ€å¤§çš„è·¯å¾„ï¼Œå¹¶è¿”å›å…¶æˆåŠŸæ¦‚ç‡ã€‚</p>
<p>å¦‚æœä¸å­˜åœ¨ä» <code>start</code> åˆ° <code>end</code> çš„è·¯å¾„ï¼Œè¯· <strong>è¿”å› 0</strong> ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/07/12/1558_ex1.png"
                      alt="img"
                ></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3, edges = [[0,1],[1,2],[0,2]], succProb = [0.5,0.5,0.2], start = 0, end = 2</span><br><span class="line">è¾“å‡ºï¼š0.25000</span><br><span class="line">è§£é‡Šï¼šä»èµ·ç‚¹åˆ°ç»ˆç‚¹æœ‰ä¸¤æ¡è·¯å¾„ï¼Œå…¶ä¸­ä¸€æ¡çš„æˆåŠŸæ¦‚ç‡ä¸º 0.2 ï¼Œè€Œå¦ä¸€æ¡ä¸º 0.5 * 0.5 = 0.25</span><br></pre></td></tr></table></figure></div>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/07/12/1558_ex2.png"
                      alt="img"
                ></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3, edges = [[0,1],[1,2],[0,2]], succProb = [0.5,0.5,0.3], start = 0, end = 2</span><br><span class="line">è¾“å‡ºï¼š0.30000</span><br></pre></td></tr></table></figure></div>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/07/12/1558_ex3.png"
                      alt="img"
                ></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = 3, edges = [[0,1]], succProb = [0.5], start = 0, end = 2</span><br><span class="line">è¾“å‡ºï¼š0.00000</span><br><span class="line">è§£é‡Šï¼šèŠ‚ç‚¹ 0 å’Œ èŠ‚ç‚¹ 2 ä¹‹é—´ä¸å­˜åœ¨è·¯å¾„</span><br></pre></td></tr></table></figure></div>

<p>è§£ç­”ï¼š</p>
<p>Dijkstra ç®—æ³•ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">maxProbability</span><span class="params">(<span class="type">int</span> n, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; edges, vector&lt;<span class="type">double</span>&gt;&amp; succProb, <span class="type">int</span> start, <span class="type">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„é‚»ç»“ç‚¹åŠå…¶å¯¹åº”çš„è·ç¦»</span></span><br><span class="line">        vector&lt;vector&lt;pair&lt;<span class="type">int</span>, <span class="type">double</span>&gt;&gt;&gt; <span class="built_in">graph</span>(n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;edges.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">            graph[edges[i][<span class="number">0</span>]].<span class="built_in">emplace_back</span>(edges[i][<span class="number">1</span>], succProb[i]);</span><br><span class="line">            graph[edges[i][<span class="number">1</span>]].<span class="built_in">emplace_back</span>(edges[i][<span class="number">0</span>], succProb[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//dijkstraç®—æ³•</span></span><br><span class="line">        priority_queue&lt;pair&lt;<span class="type">int</span>,<span class="type">double</span>&gt;&gt; pq; </span><br><span class="line">        <span class="comment">//ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå­˜å‚¨ç»“ç‚¹åŠå…¶åˆ°è¾¾èµ·ç‚¹çš„æœ€å¤§æ¦‚ç‡</span></span><br><span class="line">        <span class="comment">//è‡ªåŠ¨ç”±å¤§åˆ°å°æ’åˆ—ï¼Œé€‰å–é˜Ÿåˆ—é¦–å…ƒç´ è¿›è¡Œåˆ†æ </span></span><br><span class="line">        <span class="comment">//pq.first ç‚¹çš„ä¸‹æ ‡ï¼Œ pq.second ç‚¹åˆ°èµ·ç‚¹çš„æœ€å¤§æ¦‚ç‡</span></span><br><span class="line">        <span class="function">vector&lt;<span class="type">double</span>&gt; <span class="title">prob</span><span class="params">(n,<span class="number">0</span>)</span></span>; <span class="comment">//è®°å½•æ¯ä¸ªé¡¶ç‚¹åˆ°èµ·ç‚¹çš„æœ€å¤§æ¦‚ç‡</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//é˜Ÿåˆ—åˆå§‹åŒ–</span></span><br><span class="line">        prob[start] = <span class="number">1</span>;<span class="comment">//èµ·ç‚¹è‡ªèº«åˆ°è‡ªèº«çš„æœ€å¤§æ¦‚ç‡æ˜¯1</span></span><br><span class="line">        pq.<span class="built_in">emplace</span>(start, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ¯ä¸€è½®ä»æ¦‚ç‡æœ€å¤§çš„ä¸€ä¸ªç‚¹å‡ºå‘ï¼Œå¯»æ‰¾ä¸ä¹‹ç›¸é‚»çš„è¾¹</span></span><br><span class="line">        <span class="keyword">while</span>(!pq.<span class="built_in">empty</span>())&#123;</span><br><span class="line">            <span class="keyword">auto</span> [v, pr] = pq.<span class="built_in">top</span>();</span><br><span class="line">            pq.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="keyword">if</span>(pr &lt; prob[v]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">//éå†ä¸ç‚¹ç›¸é‚»çš„ç‚¹</span></span><br><span class="line">            <span class="comment">//node -- é‚»ç‚¹  nodepr -- è¯¥ç‚¹åˆ°è¾¾é‚»ç‚¹çš„æ¦‚ç‡</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; [node, nodepr] : graph[v])&#123;</span><br><span class="line">                <span class="keyword">if</span>(prob[node] &lt; prob[v]*nodepr)&#123;</span><br><span class="line">                    prob[node] = prob[v]*nodepr; <span class="comment">// æ›´æ–°åˆ°è¾¾nodeçš„æ¦‚ç‡ä½¿ä¹‹ç§°ä¸ºæœ€å¤§</span></span><br><span class="line">                    pq.<span class="built_in">emplace</span>(node, prob[node]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prob[end]; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>

<h3 id="SPFAç®—æ³•"><a href="#SPFAç®—æ³•" class="headerlink" title="SPFAç®—æ³•"></a>SPFAç®—æ³•</h3><div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">double</span> <span class="title">maxProbability</span><span class="params">(<span class="type">int</span> n, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; edges, vector&lt;<span class="type">double</span>&gt;&amp; succProb, <span class="type">int</span> start, <span class="type">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">double</span>&gt; <span class="title">dist</span><span class="params">(n, <span class="number">0</span>)</span></span>;<span class="comment">//è®°å½•é¡¶ç‚¹åˆ°ç‚¹çš„æœ€å¤§æ¦‚ç‡</span></span><br><span class="line">        <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">inque</span><span class="params">(n, <span class="number">0</span>)</span></span>; <span class="comment">//è®°å½•æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­</span></span><br><span class="line">        vector&lt;vector&lt;pair&lt;<span class="type">int</span>, <span class="type">double</span>&gt;&gt;&gt; <span class="built_in">graph</span>(n); <span class="comment">//å›¾</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; e: edges)&#123;</span><br><span class="line">            graph[e[<span class="number">0</span>]].<span class="built_in">emplace_back</span>(e[<span class="number">1</span>], succProb[i]);</span><br><span class="line">            graph[e[<span class="number">1</span>]].<span class="built_in">emplace_back</span>(e[<span class="number">0</span>], succProb[i++]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//SPFA ç®—æ³•</span></span><br><span class="line">        <span class="comment">// æ¯æ¬¡å°†é˜Ÿåˆ—ä¸­çš„ç‚¹å–å‡ºï¼Œæ¥åˆ¤æ–­æ˜¯å¦èƒ½è¿›è¡Œæ¾å¼›æ“ä½œï¼Œå¹¶åˆ¤æ–­æ¾å¼›åçš„ç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­æ¥å†³å®šæ˜¯å¦åŠ å…¥é˜Ÿåˆ—</span></span><br><span class="line">        queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">        q.<span class="built_in">emplace</span>(start);</span><br><span class="line">        dist[start] = <span class="number">1</span>; </span><br><span class="line">        inque[start] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">            <span class="type">int</span> curnode = q.<span class="built_in">front</span>();</span><br><span class="line">            q.<span class="built_in">pop</span>();</span><br><span class="line">            inque[curnode] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; [node, nodepr]: graph[curnode])&#123;</span><br><span class="line">                <span class="comment">//ä¸tç›¸é‚»çš„ç‚¹, nodepr--æ­¤é‚»ç‚¹åˆ°curnodeçš„æ¦‚ç‡</span></span><br><span class="line">                <span class="keyword">if</span>(dist[node] &lt; dist[curnode]* nodepr)&#123;</span><br><span class="line">                    dist[node] = dist[curnode]*nodepr;</span><br><span class="line">                    <span class="keyword">if</span>(!inque[node])&#123;<span class="comment">//åˆ¤æ–­æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­</span></span><br><span class="line">                        inque[node] = <span class="literal">true</span>;</span><br><span class="line">                        q.<span class="built_in">emplace</span>(node);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dist[end];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>



<p>SPFAç®—æ³•çš„åº”ç”¨ï¼š</p>
<p>ï¼ˆæ­¤é¢˜ä¸èƒ½ä½¿ç”¨Dijkstraï¼‰</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1073" >æ´›è°·P1073æœ€ä¼˜è´¸æ˜“ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> </p>
<p>ç®€è¿°ï¼šä¸€ä¸ªäººåœ¨ä¸€å›½æ—…è¡Œï¼Œæœ‰nä¸ªåŸå¸‚ï¼Œm æ¡è·¯ï¼Œæ¯æ¡è·¯è¿æ¥ä¸¤ä¸ªåŸå¸‚ï¼Œä¸€éƒ¨åˆ†å•å‘é“ï¼Œå¦ä¸€éƒ¨åˆ†åŒå‘é“ã€‚æ°´æ™¶çƒåœ¨nä¸ªåŸå¸‚ä»·æ ¼ä¸ä¸€æ ·ï¼Œæ­¤äººæƒ³åªè¿›è¡Œä¸€æ¬¡è´¸æ˜“æ¥èµšå·®ä»·ï¼Œå¦‚æœä¸èƒ½èµšé’±ï¼Œåˆ™ä¸è¿›è¡Œè´¸æ˜“ã€‚æ­¤äººä» 1åŸå¸‚ å‡ºå‘åˆ° nåŸå¸‚ï¼Œå¯ä»¥é‡å¤ç»è¿‡åŒä¸€ä¸ªåŸå¸‚ã€‚</p>
<p>è¾“å…¥ï¼šç¬¬ä¸€è¡Œæœ‰æ­£æ•´æ•° n å’Œ mï¼Œåˆ†åˆ«è¡¨ç¤ºåŸå¸‚æ•°ç›®å’Œé“è·¯æ•°ç›®ã€‚<br>ç¬¬äºŒè¡Œ n ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºnä¸ªåŸå¸‚æ°´æ™¶çƒçš„ä»·æ ¼<br>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° x,y,zã€‚z è¡¨ç¤ºåŸå¸‚xåˆ°åŸå¸‚yä¹‹é—´çš„å•å‘é“è·¯ï¼Œz&#x3D;2è¡¨ç¤ºè¿™æ¡é“è·¯ä¸ºåŸå¸‚xå’ŒåŸå¸‚yä¹‹é—´çš„åŒå‘é“è·¯ã€‚</p>
<p>è¾“å‡ºï¼šä¸€ ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤šèƒ½èµšå–çš„æ—…è´¹ã€‚å¦‚æœæ²¡æœ‰è¿›è¡Œè´¸æ˜“ï¼Œåˆ™è¾“å‡º 0ã€‚</p>
<p>æ ·ä¾‹ï¼š</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">5 5 </span><br><span class="line">4 3 5 6 1 </span><br><span class="line">1 2 1 </span><br><span class="line">1 4 1 </span><br><span class="line">2 3 2 </span><br><span class="line">3 5 1 </span><br><span class="line">4 5 2 </span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">5</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> num, road;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; price;</span><br><span class="line"><span class="comment">//SPFA ç®—æ³•</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">spfa</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; travel, <span class="type">int</span> start, <span class="type">int</span> flag, vector&lt;<span class="type">int</span>&gt;&amp; d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">inque</span><span class="params">(num, <span class="literal">false</span>)</span></span>;</span><br><span class="line">	queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line">	</span><br><span class="line">	q.<span class="built_in">push</span>(start);</span><br><span class="line">	inque[start] = <span class="literal">true</span>;</span><br><span class="line">	d[start] = price[start];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> t = q.<span class="built_in">front</span>();</span><br><span class="line">		q.<span class="built_in">pop</span>();</span><br><span class="line">		inque[t] = <span class="literal">false</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i:travel[t])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>((<span class="built_in">min</span>(d[t], price[i])&lt;d[i] &amp;&amp; flag) || (<span class="built_in">max</span>(d[t], price[i])&gt;d[i] &amp;&amp; !flag))</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) d[i] = <span class="built_in">min</span>(d[t], price[i]);</span><br><span class="line">				<span class="keyword">else</span> d[i] = <span class="built_in">max</span>(d[t], price[i]);</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(!inque[i])</span><br><span class="line">				&#123;</span><br><span class="line">					inque[i] = <span class="literal">true</span>;</span><br><span class="line">					q.<span class="built_in">emplace</span>(i);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; num &gt;&gt; road;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dmin</span><span class="params">(num, INT_MAX)</span>, <span class="title">dmax</span><span class="params">(num, <span class="number">0</span>)</span></span>;</span><br><span class="line">	vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">ttravel</span>(num),<span class="built_in">retravel</span>(num);</span><br><span class="line">	price.<span class="built_in">resize</span>(num);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;num; i++)</span><br><span class="line">		cin &gt;&gt; price[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;road; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> a, b, z;</span><br><span class="line">		cin &gt;&gt; a &gt;&gt; b &gt;&gt; z;</span><br><span class="line">		a--, b--;</span><br><span class="line">		ttravel[a].<span class="built_in">push_back</span>(b);</span><br><span class="line">		retravel[b].<span class="built_in">push_back</span>(a);<span class="comment">//åå‘æ„å›¾ </span></span><br><span class="line">		<span class="keyword">if</span>(z == <span class="number">2</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			ttravel[b].<span class="built_in">push_back</span>(a);</span><br><span class="line">			retravel[a].<span class="built_in">push_back</span>(b);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">spfa</span>(ttravel, <span class="number">0</span>, <span class="number">1</span>, dmin);</span><br><span class="line">	<span class="built_in">spfa</span>(retravel, num<span class="number">-1</span>, <span class="number">0</span>, dmax);</span><br><span class="line">	<span class="comment">//æ±‚æœ€å¤§å€¼ï¼Œåº”è¯¥åç€æ±‚ï¼Œå› ä¸ºæœ€å¤§å€¼æ±‚å€¼éœ€è¦ç”¨åˆ°ä¸Šä¸€æ­¥çš„å€¼è¿›è¡Œæ¯”è¾ƒ </span></span><br><span class="line">	<span class="type">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;num; i++)</span><br><span class="line">		res = <span class="built_in">max</span>(res, dmax[i]-dmin[i]);</span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; res&lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>æ­¤é¢˜ç›®ä¸é€‚åˆ dijkstra ç®—æ³•ï¼Œå› ä¸º dijkstra ç®—æ³•å…·æœ‰ç´¯åŠ æ€§ï¼Œè€Œä¸”æµ‹è¯•æ ·ä¾‹ä¸­å¯èƒ½ä¼šæœ‰ç¯ï¼Œä¼šå¯¼è‡´ dijkstra åå¤æ›´æ–°ã€‚</p>
<h3 id="äºŒåˆ†æ³•-åŒç«¯é˜Ÿåˆ—"><a href="#äºŒåˆ†æ³•-åŒç«¯é˜Ÿåˆ—" class="headerlink" title="äºŒåˆ†æ³•+åŒç«¯é˜Ÿåˆ—"></a>äºŒåˆ†æ³•+åŒç«¯é˜Ÿåˆ—</h3><p>åœ¨éƒŠåŒºæœ‰ N åº§é€šä¿¡åŸºç«™ï¼ŒP æ¡ åŒå‘ ç”µç¼†ï¼Œç¬¬ i æ¡ç”µç¼†è¿æ¥åŸºç«™ Ai å’Œ Biã€‚ç‰¹åˆ«åœ°ï¼Œ1 å·åŸºç«™æ˜¯é€šä¿¡å…¬å¸çš„æ€»ç«™ï¼ŒN å·åŸºç«™ä½äºä¸€åº§å†œåœºä¸­ã€‚ç°åœ¨ï¼Œå†œåœºä¸»å¸Œæœ›å¯¹é€šä¿¡çº¿è·¯è¿›è¡Œå‡çº§ï¼Œå…¶ä¸­å‡çº§ç¬¬ i æ¡ç”µç¼†éœ€è¦èŠ±è´¹ Liã€‚ç”µè¯å…¬å¸æ­£åœ¨ä¸¾è¡Œä¼˜æƒ æ´»åŠ¨ã€‚å†œäº§ä¸»å¯ä»¥æŒ‡å®šä¸€æ¡ä» 1 å·åŸºç«™åˆ° N å·åŸºç«™çš„è·¯å¾„ï¼Œå¹¶æŒ‡å®šè·¯å¾„ä¸Šä¸è¶…è¿‡ K æ¡ç”µç¼†ï¼Œç”±ç”µè¯å…¬å¸å…è´¹æä¾›å‡çº§æœåŠ¡ã€‚å†œåœºä¸»åªéœ€è¦æ”¯ä»˜åœ¨è¯¥è·¯å¾„ä¸Šå‰©ä½™çš„ç”µç¼†ä¸­ï¼Œå‡çº§ä»·æ ¼æœ€è´µçš„é‚£æ¡ç”µç¼†çš„èŠ±è´¹å³å¯ã€‚æ±‚è‡³å°‘ç”¨å¤šå°‘é’±å¯ä»¥å®Œæˆå‡çº§ã€‚</p>
<p>è¾“å…¥æ ¼å¼</p>
<p>ç¬¬ 1 è¡Œï¼šä¸‰ä¸ªæ•´æ•° Nï¼ŒPï¼ŒKã€‚</p>
<p>ç¬¬ 2..P+1è¡Œï¼šç¬¬ i+1 è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° Ai,Bi,Liã€‚</p>
<p>è¾“å‡ºæ ¼å¼</p>
<p>åŒ…å«ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæœ€å°‘èŠ±è´¹ã€‚</p>
<p>è‹¥ 1 å·åŸºç«™ä¸ N å·åŸºç«™ä¹‹é—´ä¸å­˜åœ¨è·¯å¾„ï¼Œåˆ™è¾“å‡º âˆ’1ã€‚</p>
<p><strong>é¢˜ç›®æ€»ç»“</strong>ï¼šæ±‚è·¯å¾„çš„ç¬¬ï½‹ï¼‹ï¼‘å¤§çš„è´¹ç”¨çš„æœ€å°å€¼</p>
<p><strong>æ€è·¯</strong>ï¼šäºŒåˆ†æ³•ï¼‹åŒç«¯é˜Ÿåˆ—</p>
<p>æ¯æ¬¡å–å‡ºå¯¹å¤´çš„å…ƒç´ ï¼Œå¦‚æœæœ‰å°±æ›´æ–°</p>
<ul>
<li>è¾¹æƒæ˜¯ 1 ï¼Œä»å †å°¾æ’å…¥</li>
<li>è¾¹æƒæ˜¯ 0 ï¼Œä»é˜Ÿé¦–æ’å…¥</li>
</ul>
<p>ç‰¹åˆ«åœ°ï¼Œå¯èƒ½ä¼šæœ‰ä¸€ä¸ªå…ƒç´ å¤šæ¬¡å…¥é˜Ÿï¼Œåªéœ€å…³æ³¨ç¬¬ä¸€æ¬¡å…¥é˜Ÿå³å¯ã€‚</p>
<p>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå‡è®¾æŠŠæ¯ä¸€ä¸ªç‚¹çš„æ¯æ¬¡æ‹“å±•ç®—ä½œä¸€æ­¥ï¼ˆå³æ‰€æœ‰è¾¹æƒå€¼ä¸º1ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥ä¸€ç›´æœç´¢ï¼Œå¾—åˆ°å±‚æ•°ã€‚è¿™ä¸ªå±‚æ•°å°±æ˜¯è¿™ä¸ªç‚¹åˆ°rootçš„æœ€çŸ­è·¯ã€‚</p>
<p>ç›¸å½“äºæŠŠæƒä½œä¸ºè·¯å¾„é•¿åº¦ï¼Œs ä½œä¸ºè¡¡é‡é•¿åº¦çš„æ ‡å‡†ï¼Œæ‰¾åˆ°æœ€å°çš„ s ä½¿å¾—æœ€çŸ­è·¯é•¿åº¦å¤§äºæˆ–ç­‰äºkã€‚</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n, p, k;</span><br><span class="line">vector&lt;vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt;&gt; graph;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">check</span><span class="params">(<span class="type">int</span> s)</span></span>&#123;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">dist</span><span class="params">(n, INT_MAX)</span></span>;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">visited</span><span class="params">(n, <span class="literal">false</span>)</span></span>;</span><br><span class="line">	</span><br><span class="line">	deque&lt;<span class="type">int</span>&gt; dq;</span><br><span class="line">	dq.<span class="built_in">emplace_back</span>(<span class="number">0</span>); <span class="comment">//ä» 0 å¼€å§‹</span></span><br><span class="line">	dist[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(!dq.<span class="built_in">empty</span>())&#123;</span><br><span class="line">		<span class="type">int</span> t = dq.<span class="built_in">front</span>();</span><br><span class="line">		dq.<span class="built_in">pop_front</span>();</span><br><span class="line">		<span class="keyword">if</span>(visited[t] == <span class="literal">true</span>) <span class="keyword">continue</span>;</span><br><span class="line">		visited[t] = <span class="literal">true</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">auto</span> p: graph[t])&#123;</span><br><span class="line">			<span class="type">int</span> len = p.first, nx = p.second;</span><br><span class="line">			<span class="type">bool</span> isBigger = (len &gt; s); <span class="comment">//è¡¨ç¤ºå½“å‰çš„æƒå€¼æ˜¯å¦å¤§äºæˆ‘ä»¬çŒœæƒ³çš„æ•° </span></span><br><span class="line">			<span class="keyword">if</span>(dist[nx]&gt;dist[t] + isBigger)&#123;</span><br><span class="line">				dist[nx] = dist[t]+isBigger;</span><br><span class="line">				<span class="keyword">if</span>(isBigger) dq.<span class="built_in">emplace_back</span>(nx); <span class="comment">//æƒå€¼ä¸º1çš„åå…¥é˜Ÿ </span></span><br><span class="line">				<span class="keyword">else</span> dq.<span class="built_in">emplace_front</span>(nx); <span class="comment">//è®©æƒå€¼å°çš„ä¼˜å…ˆ </span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> dist[n<span class="number">-1</span>] &lt;= k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; p &gt;&gt; k;</span><br><span class="line">	graph.<span class="built_in">resize</span>(n);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;p; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> a, b, l;</span><br><span class="line">		cin &gt;&gt; a &gt;&gt; b &gt;&gt; l;</span><br><span class="line">		a--, b--;</span><br><span class="line">		graph[a].<span class="built_in">emplace_back</span>(l, b);</span><br><span class="line">		graph[b].<span class="built_in">emplace_back</span>(l, a);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">1e6</span>+<span class="number">1</span>;</span><br><span class="line">	<span class="type">int</span> res = <span class="number">-1</span>;X:</span><br><span class="line">	<span class="keyword">while</span>(left &lt; right)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> mid = (left+right)/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">check</span>(mid))</span><br><span class="line">		&#123;</span><br><span class="line">			res = mid;</span><br><span class="line">			right = mid<span class="number">-1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> left = mid+<span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"> </span><br><span class="line">	cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="Floyd-ç®—æ³•"><a href="#Floyd-ç®—æ³•" class="headerlink" title="Floyd ç®—æ³•"></a>Floyd ç®—æ³•</h3><p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/345/" >ACWing343.æ’åº <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> </p>
<h4 id="Floyd-ç®—æ³•ç»å…¸åº”ç”¨-â€”â€”-ä¼ é€’é—­åŒ…"><a href="#Floyd-ç®—æ³•ç»å…¸åº”ç”¨-â€”â€”-ä¼ é€’é—­åŒ…" class="headerlink" title="Floyd ç®—æ³•ç»å…¸åº”ç”¨ â€”â€” ä¼ é€’é—­åŒ…"></a>Floyd ç®—æ³•ç»å…¸åº”ç”¨ â€”â€” ä¼ é€’é—­åŒ…</h4><blockquote>
<p>ä¼ é€’é—­åŒ…æ˜¯æŒ‡åœ¨ä¸€ä¸ªæœ‰å‘å›¾ä¸­ï¼Œå¦‚æœå­˜åœ¨ä¸€æ¡ä»èŠ‚ç‚¹ A åˆ°èŠ‚ç‚¹ B çš„è·¯å¾„ï¼Œé‚£ä¹ˆèŠ‚ç‚¹ A å’ŒèŠ‚ç‚¹ B ä¹‹é—´å°±å­˜åœ¨ä¼ é€’å…³ç³»ã€‚ä¼ é€’é—­åŒ…ç®—æ³•å°±æ˜¯ç”¨æ¥è®¡ç®—ä¸€ä¸ªæœ‰å‘å›¾çš„ä¼ é€’é—­åŒ…çš„ç®—æ³•ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œä¼ é€’é—­åŒ…ç®—æ³•ä¼šå¯¹å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œéå†ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä¼šæ‰¾åˆ°æ‰€æœ‰å¯ä»¥åˆ°è¾¾çš„èŠ‚ç‚¹ï¼Œå¹¶å°†è¿™äº›èŠ‚ç‚¹ä¸è¯¥èŠ‚ç‚¹å»ºç«‹ä¼ é€’å…³ç³»ã€‚è¿™æ ·ï¼Œç»è¿‡ä¸€æ¬¡éå†åï¼Œå°±å¯ä»¥å¾—åˆ°å›¾çš„ä¼ é€’é—­åŒ…ã€‚</p>
<p>ä¼ é€’é—­åŒ…ç®—æ³•çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œä¾‹å¦‚åœ¨æ•°æ®åº“ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¼ é€’é—­åŒ…ç®—æ³•æ¥è®¡ç®—å…³ç³»å‹æ•°æ®åº“ä¸­çš„å¤–é”®çº¦æŸï¼Œä»¥åŠåœ¨ç¼–è¯‘å™¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¼ é€’é—­åŒ…ç®—æ³•æ¥è®¡ç®—ç¨‹åºä¸­çš„ä¾èµ–å…³ç³»ã€‚</p>
</blockquote>
<p>ç»™å®š n ä¸ªå˜é‡å’Œ m ä¸ªä¸ç­‰å¼ã€‚å…¶ä¸­ n å°äºç­‰äº 26ï¼Œå˜é‡åˆ†åˆ«ç”¨å‰ n çš„å¤§å†™è‹±æ–‡å­—æ¯è¡¨ç¤ºã€‚</p>
<p>ä¸ç­‰å¼ä¹‹é—´å…·æœ‰ä¼ é€’æ€§ï¼Œå³è‹¥ A&gt;Bä¸”  B&gt;Cï¼Œåˆ™ A&gt;Cã€‚</p>
<p>è¯·ä»å‰å¾€åéå†æ¯å¯¹å…³ç³»ï¼Œæ¯æ¬¡éå†æ—¶åˆ¤æ–­ï¼š</p>
<ul>
<li>å¦‚æœèƒ½å¤Ÿç¡®å®šå…¨éƒ¨å…³ç³»ä¸”æ— çŸ›ç›¾ï¼Œåˆ™ç»“æŸå¾ªç¯ï¼Œè¾“å‡ºç¡®å®šçš„æ¬¡åºï¼›</li>
<li>å¦‚æœå‘ç”ŸçŸ›ç›¾ï¼Œåˆ™ç»“æŸå¾ªç¯ï¼Œè¾“å‡ºæœ‰çŸ›ç›¾ï¼›</li>
<li>å¦‚æœå¾ªç¯ç»“æŸæ—¶æ²¡æœ‰å‘ç”Ÿä¸Šè¿°ä¸¤ç§æƒ…å†µï¼Œåˆ™è¾“å‡ºæ— å®šè§£ã€‚</li>
</ul>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®ï¼Œç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° n å’Œ mã€‚</p>
<p>æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªä¸ç­‰å¼ï¼Œä¸ç­‰å¼å…¨éƒ¨ä¸ºå°äºå…³ç³»ã€‚</p>
<p>å½“è¾“å…¥ä¸€è¡Œ <code>0 0</code> æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»ˆæ­¢ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>æ¯ç»„æ•°æ®è¾“å‡ºä¸€ä¸ªå ä¸€è¡Œçš„ç»“æœã€‚</p>
<p>ç»“æœå¯èƒ½ä¸ºä¸‹åˆ—ä¸‰ç§ä¹‹ä¸€ï¼š</p>
<ol>
<li>å¦‚æœå¯ä»¥ç¡®å®šä¸¤ä¸¤ä¹‹é—´çš„å…³ç³»ï¼Œåˆ™è¾“å‡º <code>&quot;Sorted sequence determined after t relations: yyy...y.&quot;</code>,å…¶ä¸­<code>&#39;t&#39;</code>æŒ‡è¿­ä»£æ¬¡æ•°ï¼Œ<code>&#39;yyy...y&#39;</code>æ˜¯æŒ‡å‡åºæ’åˆ—çš„æ‰€æœ‰å˜é‡ã€‚</li>
<li>å¦‚æœæœ‰çŸ›ç›¾ï¼Œåˆ™è¾“å‡ºï¼š <code>&quot;Inconsistency found after t relations.&quot;</code>ï¼Œå…¶ä¸­<code>&#39;t&#39;</code>æŒ‡è¿­ä»£æ¬¡æ•°ã€‚</li>
<li>å¦‚æœæ²¡æœ‰çŸ›ç›¾ï¼Œä¸”ä¸èƒ½ç¡®å®šä¸¤ä¸¤ä¹‹é—´çš„å…³ç³»ï¼Œåˆ™è¾“å‡º <code>&quot;Sorted sequence cannot be determined.&quot;</code>ã€‚</li>
</ol>
<p><strong>æ•°æ®èŒƒå›´</strong></p>
<p>2â‰¤nâ‰¤26ï¼Œå˜é‡åªå¯èƒ½ä¸ºå¤§å†™å­—æ¯ Aâˆ¼Zã€‚</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 26</span></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line">vector&lt;vector&lt;<span class="type">bool</span>&gt;&gt; <span class="built_in">graph</span>(N, <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(N, <span class="number">0</span>));</span><br><span class="line">vector&lt;vector&lt;<span class="type">bool</span>&gt;&gt; <span class="built_in">dist</span>(N, <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(N, <span class="number">0</span>));</span><br><span class="line"><span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">visited</span><span class="params">(N, <span class="number">0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">floyd</span><span class="params">()</span> <span class="comment">//Floydç®—æ³• </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	dist = graph; <span class="comment">//å¤åˆ»</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt; n; k++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j&lt;n; j++)</span><br><span class="line">			&#123;	<span class="type">int</span> t = (dist[i][k]&amp;dist[k][j])|dist[i][j];</span><br><span class="line">				dist[i][j] = t;</span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">check</span><span class="params">()</span> <span class="comment">//æ£€æŸ¥typeç±»å‹ </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">		<span class="keyword">if</span>(dist[i][i]) <span class="keyword">return</span> <span class="number">2</span>;<span class="comment">//è¯´æ˜æœ‰å¾ªç¯ </span></span><br><span class="line">		</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j&lt;i; j++)</span><br><span class="line">			<span class="keyword">if</span>(!dist[i][j] &amp;&amp; !dist[j][i]) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//è¯´æ˜æŸä¸¤ä¸ªå­—æ¯å…³ç³»ä¸ç¡®å®š </span></span><br><span class="line">			</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span>; <span class="comment">//æˆåŠŸç¡®å®šç±»å‹ </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">get_min</span><span class="params">()</span> <span class="comment">//æ¯æ¬¡å–å‡ºæœ€å°å€¼</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(!visited[i])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j&lt;n; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>(!visited[j] &amp;&amp; dist[j][i])</span><br><span class="line">				&#123;</span><br><span class="line">					flag = <span class="literal">false</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(flag) <span class="comment">//è¯´æ˜ æ²¡æœ‰ä»»ä½•ä¸€ä¸ªå­—æ¯å°äº i å¯¹åº”çš„å­—æ¯ </span></span><br><span class="line">			&#123;</span><br><span class="line">				visited[i] = <span class="literal">true</span>;</span><br><span class="line">				<span class="keyword">return</span> <span class="string">&#x27;A&#x27;</span>+i; </span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(cin &gt;&gt; n &gt;&gt; m, n||m)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//åˆå§‹åŒ– </span></span><br><span class="line">		graph.<span class="built_in">assign</span>(N, <span class="built_in">vector</span>&lt;<span class="type">bool</span>&gt;(N, <span class="number">0</span>));</span><br><span class="line">		<span class="type">int</span> type = <span class="number">0</span>, t;</span><br><span class="line">		<span class="comment">//è·å–è¾“å…¥ </span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=m ; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			string s;</span><br><span class="line">			cin &gt;&gt; s; </span><br><span class="line">			<span class="type">int</span> a = s[<span class="number">0</span>]-<span class="string">&#x27;A&#x27;</span>, b = s[<span class="number">2</span>]-<span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(!type) <span class="comment">//0--æœªç¡®å®šç±»å‹ </span></span><br><span class="line">			&#123; <span class="comment">//ç»§ç»­åˆ¤æ–­ </span></span><br><span class="line">				graph[a][b] = <span class="number">1</span>;</span><br><span class="line">				<span class="built_in">floyd</span>();</span><br><span class="line">				type = <span class="built_in">check</span>(); <span class="comment">//åˆ¤æ–­ type ç±»å‹ </span></span><br><span class="line">				<span class="keyword">if</span>(type) t = i; <span class="comment">//å¦‚æœä¸ä¸ºé›¶ï¼Œåˆ™åˆ¤æ–­å‡ºç»“æœï¼Œå­˜å‚¨å¾ªç¯æ¬¡æ•° </span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//è¾“å‡º </span></span><br><span class="line">		<span class="keyword">if</span>(!type) cout &lt;&lt; <span class="string">&quot;Sorted sequence cannot be determined.&quot;</span> &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(type == <span class="number">2</span>) cout &lt;&lt; <span class="string">&quot;Inconsistency found after &quot;</span>&lt;&lt; t &lt;&lt;<span class="string">&quot; relations.&quot;</span> &lt;&lt; endl; </span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;Sorted sequence determined after &quot;</span> &lt;&lt; t &lt;&lt; <span class="string">&quot; relations: &quot;</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++) cout &lt;&lt; <span class="built_in">get_min</span>();</span><br><span class="line">			cout &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h4 id="Floyd-ç®—æ³•ç»å…¸åº”ç”¨äºŒ"><a href="#Floyd-ç®—æ³•ç»å…¸åº”ç”¨äºŒ" class="headerlink" title="Floyd ç®—æ³•ç»å…¸åº”ç”¨äºŒ"></a>Floyd ç®—æ³•ç»å…¸åº”ç”¨äºŒ</h4><p>ç»™å®šä¸€å¼ æ— å‘å›¾ï¼Œæ±‚å›¾ä¸­ä¸€ä¸ªè‡³å°‘åŒ…å« 33 ä¸ªç‚¹çš„ç¯ï¼Œç¯ä¸Šçš„èŠ‚ç‚¹ä¸é‡å¤ï¼Œå¹¶ä¸”ç¯ä¸Šçš„è¾¹çš„é•¿åº¦ä¹‹å’Œæœ€å°ã€‚è¯¥é—®é¢˜ç§°ä¸º <strong>æ— å‘å›¾çš„æœ€å°ç¯é—®é¢˜</strong>ã€‚ä½ éœ€è¦è¾“å‡ºæœ€å°ç¯çš„æ–¹æ¡ˆ</p>
<p>è¾“å…¥ï¼šç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•° N å’Œ Mï¼Œè¡¨ç¤ºæ— å‘å›¾æœ‰ N ä¸ªç‚¹ï¼ŒM æ¡è¾¹ã€‚æ¥ä¸‹æ¥ Mè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•° uï¼Œvï¼Œlï¼Œè¡¨ç¤ºç‚¹ u å’Œç‚¹ v ä¹‹é—´æœ‰ä¸€æ¡è¾¹ï¼Œè¾¹é•¿ä¸º lã€‚</p>
<p>è¾“å‡ºæ ¼å¼ï¼šè¾“å‡ºå ä¸€è¡Œï¼ŒåŒ…å«æœ€å°ç¯çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆæŒ‰é¡ºåºè¾“å‡ºï¼‰ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¾“å‡º <code>No solution</code>ã€‚</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> second dot</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> first len</span></span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> n, m, cnt;</span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; track; <span class="comment">//è®°å½•ä¸­é—´ç‚¹</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; path; <span class="comment">//è®°å½•æœ€çŸ­è·¯å¾„</span></span><br><span class="line"><span class="comment">//é€’å½’å¤„ç†èŠ‚ç‚¹</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> k = track[i][j];</span><br><span class="line">	<span class="keyword">if</span>(k == <span class="number">-1</span>) <span class="keyword">return</span>; <span class="comment">//æ²¡æœ‰ä¸­é—´ç‚¹</span></span><br><span class="line">	<span class="built_in">dfs</span>(i,k);<span class="comment">//å…ˆå¤„ç†å‰é¢çš„èŠ‚ç‚¹å¤„ç†</span></span><br><span class="line">	path.<span class="built_in">emplace_back</span>(k);<span class="comment">//å¤„ç†ä¸­é—´èŠ‚ç‚¹</span></span><br><span class="line">	<span class="built_in">dfs</span>(k,j);<span class="comment">//å¤„ç†åé¢çš„èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è·å–æœ€çŸ­è·¯å¾„</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">getpath</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	path.<span class="built_in">clear</span>();</span><br><span class="line">	path.<span class="built_in">emplace_back</span>(i);</span><br><span class="line">	<span class="built_in">dfs</span>(i, j);</span><br><span class="line">	path.<span class="built_in">emplace_back</span>(j);</span><br><span class="line">	path.<span class="built_in">emplace_back</span>(k);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">	vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">graph</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, INT_MAX));</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++) graph[i][i] = <span class="number">0</span>;</span><br><span class="line">	track.<span class="built_in">resize</span>(n), track.<span class="built_in">assign</span>(n, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(n, <span class="number">-1</span>));</span><br><span class="line">	<span class="comment">//è·å–è¾“å…¥</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> a, b, c;</span><br><span class="line">		cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;</span><br><span class="line">		a--, b--;</span><br><span class="line">		graph[b][a] = graph[a][b] = <span class="built_in">min</span>(graph[a][b], c);</span><br><span class="line">	&#125;</span><br><span class="line">	vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">dist</span>(graph); <span class="comment">//è®°å½•æœ€çŸ­è·¯å¾„</span></span><br><span class="line">	<span class="comment">//å¼€å§‹å¤„ç†</span></span><br><span class="line">	<span class="type">int</span> res = INT_MAX;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k&lt;n; k++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;k; i++)<span class="comment">//i&lt;k, j&lt;k, ä¿è¯ dist[i][j] ä¸ç»è¿‡ k</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j = i+<span class="number">1</span>; j&lt;k; j++)<span class="comment">//j=i+1å‰ªæ</span></span><br><span class="line">			&#123;<span class="comment">//graph[j][k]å’Œgraph[k][i]éƒ½ä¸ºä¸¤ç‚¹ä¹‹é—´çš„ç›´æ¥è·ç¦»</span></span><br><span class="line">              <span class="comment">//dist[i][j] å­˜çš„æ˜¯ä¸Šä¸€è½®è¿­ä»£å¾—åˆ°çš„ç»“æœ</span></span><br><span class="line">				<span class="keyword">if</span>( (<span class="type">long</span> <span class="type">long</span>)dist[i][j]+graph[j][k]+graph[k][i]&lt;res)</span><br><span class="line">				&#123;<span class="comment">//æ›´æ–°æœ€çŸ­è·¯å¾„</span></span><br><span class="line">					res = dist[i][j]+graph[j][k]+graph[k][i];</span><br><span class="line">					<span class="built_in">getpath</span>(i,j,k);<span class="comment">//é‡æ–°è·å–æœ€çŸ­è·¯å¾„</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">        <span class="comment">//Floydï¼Œæ›´æ–°æ‰€æœ‰ i j ç»è¿‡kçš„æœ€çŸ­è·¯å¾„</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; <span class="built_in">j</span>&lt;n; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>( dist[i][j]&gt;(<span class="type">long</span> <span class="type">long</span>)dist[i][k]+dist[k][j])</span><br><span class="line">				&#123;</span><br><span class="line">					dist[i][j] = dist[i][k]+dist[k][j];</span><br><span class="line">					track[i][j] = k;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(res == INT_MAX) cout &lt;&lt; <span class="string">&quot;No solution&quot;</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> x:path)</span><br><span class="line">			cout &lt;&lt; x+<span class="number">1</span> &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h4 id="ç±»Floydç®—æ³•-qmi-å¿«é€Ÿå¹‚"><a href="#ç±»Floydç®—æ³•-qmi-å¿«é€Ÿå¹‚" class="headerlink" title="ç±»Floydç®—æ³•+qmi(å¿«é€Ÿå¹‚)"></a>ç±»Floydç®—æ³•+qmi(å¿«é€Ÿå¹‚)</h4><p><a class="link"   target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/description/347/" >ACWing345.ç‰›ç«™ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> </p>
<p><strong>é¢˜ç›®ï¼š</strong> ç»™å®šä¸€å¼ ç”± T æ¡è¾¹æ„æˆçš„ <strong>æ— å‘å›¾</strong>ï¼Œç‚¹çš„ç¼–å·ä¸º 1âˆ¼1000 ä¹‹é—´çš„æ•´æ•°ã€‚æ±‚ä»èµ·ç‚¹ S åˆ°ç»ˆç‚¹ E æ°å¥½ <strong>ç»è¿‡ N æ¡è¾¹ï¼ˆå¯ä»¥é‡å¤ç»è¿‡ï¼‰çš„æœ€çŸ­è·¯</strong>ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼ï¼š</strong></p>
<p>ç¬¬ 1 è¡Œï¼šåŒ…å«å››ä¸ªæ•´æ•° Nï¼ŒTï¼ŒSï¼ŒEã€‚</p>
<p>ç¬¬ 2â€¦T+1 è¡Œï¼šæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•°ï¼Œæè¿°ä¸€æ¡è¾¹çš„è¾¹é•¿ä»¥åŠæ„æˆè¾¹çš„ä¸¤ä¸ªç‚¹çš„ç¼–å·ã€‚</p>
<p>è¾“å‡ºæ ¼å¼ï¼šè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€çŸ­è·¯çš„é•¿åº¦</p>
<p><strong>è§£é¢˜æ€è·¯</strong></p>
<p>åœ¨å¿«é€Ÿå¹‚çš„æ¡†æ¶ä¸‹åšlogNæ¬¡ç±»floydç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ $O(logNâˆ—n^3)$</p>
<blockquote>
<p>å¿«é€Ÿå¹‚æ˜¯ä¸€ç§ç”¨äºå¿«é€Ÿè®¡ç®—å¹‚è¿ç®—çš„ç®—æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯å°†æŒ‡æ•°ä¸æ–­æŠ˜åŠï¼Œå°†åº•æ•°ä¸æ–­å¹³æ–¹ï¼Œä»è€Œå¿«é€Ÿåœ°è®¡ç®—å‡ºå¹‚è¿ç®—çš„ç»“æœã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå‡è®¾è¦è®¡ç®— a çš„ n æ¬¡å¹‚ï¼Œå¯ä»¥å°† n è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶å½¢å¼ï¼Œä¾‹å¦‚ n &#x3D; 101101ï¼ˆäºŒè¿›åˆ¶ï¼‰ï¼Œåˆ™æœ‰ï¼š</p>
<p>$a^n &#x3D; a^{2^5} * a^{2^4} * a^{2^2} * a^{2^1} * a^{2^0}$</p>
<p>å…¶ä¸­ï¼Œ$2^5$ã€$2^4$ã€$2^2$ã€$2^1$ã€$2^0$ åˆ†åˆ«å¯¹åº”äºŒè¿›åˆ¶æ•° 101101 ä¸­çš„ 1 çš„ä½ç½®ã€‚å› æ­¤ï¼Œåªéœ€è¦è®¡ç®— a çš„å¹³æ–¹ã€a çš„å››æ¬¡æ–¹ã€a çš„å…«æ¬¡æ–¹ã€a çš„åå…­æ¬¡æ–¹å’Œ a çš„ä¸‰åäºŒæ¬¡æ–¹ï¼Œç„¶åå°†å®ƒä»¬ä¹˜èµ·æ¥å³å¯å¾—åˆ° a çš„ n æ¬¡å¹‚ã€‚</p>
<p>å¿«é€Ÿå¹‚ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log n)ï¼Œæ¯”æœ´ç´ çš„å¹‚è¿ç®—ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ O(n) è¦å¿«å¾—å¤šã€‚å› æ­¤ï¼Œåœ¨éœ€è¦è¿›è¡Œå¤§é‡å¹‚è¿ç®—çš„åœºåˆï¼Œå¿«é€Ÿå¹‚ç®—æ³•æ˜¯ä¸€ç§éå¸¸æœ‰æ•ˆçš„ç®—æ³•ã€‚</p>
</blockquote>
<p>æ™®é€šçš„Floydç®—æ³•ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> k=<span class="number">1</span>;k&lt;=n;k++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">                d[i][j]=<span class="built_in">min</span>(d[i][j],d[i][k]+d[k][j]);</span><br></pre></td></tr></table></figure></div>

<p>Floydå¯ä»¥å¾—åˆ°æ‰€æœ‰ç‚¹å¯¹é—´çš„æœ€çŸ­è·ç¦»æ˜¯å› ä¸ºæ¯æ¬¡éƒ½æ˜¯ä¸€æ¡è¾¹ä¸€æ¡è¾¹çš„çš„æ›´æ–°</p>
<p>ç±»Floydç®—æ³•</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">temp</span><span class="params">(N, INT_MAX)</span></span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k&lt;n; k++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j&lt;n; j++)</span><br><span class="line">            temp[i][j] = <span class="built_in">min</span>(temp[i][j], a[i][k]+b[k][j]);</span><br></pre></td></tr></table></figure></div>

<p>è¿™ç§ç®—æ³•å…·æœ‰è¾¹çš„ç‰¹æ€§ï¼Œå› ä¸ºå®ƒä¸ä¼šæ‹¿ä¹‹å‰å®Œæˆè®¡ç®—çš„æ•°æ®è¿›è¡Œæ›´æ–°ï¼Œè€Œæ˜¯ç”¨å•ç‹¬çš„è¾¹ä¹‹é—´çš„å’Œè¿›è¡Œè‡ªæˆ‘æ›´æ–°ã€‚è¿™ä¿è¯æ›´æ–°æ—¶ï¼Œè¾¹æ•°çš„é™åˆ¶ã€‚</p>
<p>ç¬¬ä¸€æ¬¡æ‹¿1æ¡è¾¹æ›´æ–°2æ¡è¾¹çš„ç»“æœï¼Œç¬¬äºŒæ¬¡æ‹¿2æ¡è¾¹çš„ç»“æœæ›´æ–°å››æ¡è¾¹çš„ç»“æœï¼Œä»¥æˆå€çš„é€Ÿåº¦æ›´æ–°ã€‚</p>
<blockquote>
<p>Floydç®—æ³•å¯ä»¥ç”¨äºæ±‚è§£å›¾ä¸­ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯é‡‡ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œåˆ©ç”¨ä¸­é—´èŠ‚ç‚¹æ¥é€æ­¥ä¼˜åŒ–è·¯å¾„ã€‚åœ¨Floydç®—æ³•çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å¯¹è·¯å¾„è¿›è¡Œå¤šæ¬¡æ›´æ–°ï¼Œæ¯æ¬¡æ›´æ–°æ—¶éœ€è¦éå†æ•´å¼ å›¾ã€‚è¿™æ ·çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n^3)$ï¼Œå…¶ä¸­næ˜¯èŠ‚ç‚¹æ•°ã€‚ä¸ºäº†ä¼˜åŒ–è¿™ä¸ªç®—æ³•ï¼Œå¯ä»¥ä½¿ç”¨çŸ©é˜µä¹˜æ³•å¿«é€Ÿå¹‚çš„æ€æƒ³ã€‚å…·ä½“æ¥è¯´ï¼Œå¯ä»¥å°†Floydç®—æ³•ä¸­çš„å¤šæ¬¡æ›´æ–°çœ‹åšæ˜¯å¯¹ä¸€ä¸ªçŸ©é˜µçš„å¤šæ¬¡å¹‚è¿ç®—ã€‚</p>
<p>å‡è®¾å­˜åœ¨ä¸€ä¸ªçŸ©é˜µAï¼Œè¡¨ç¤ºå›¾ä¸­èŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œåˆå§‹æ—¶Açš„å€¼å°±æ˜¯å›¾çš„é‚»æ¥çŸ©é˜µã€‚åˆ™ç»è¿‡kæ¬¡æ›´æ–°åï¼ŒAçš„å€¼è¡¨ç¤ºçš„å°±æ˜¯ä»»æ„ä¸¤ç‚¹ä¹‹é—´ç»è¿‡ä¸è¶…è¿‡kä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒAçš„kæ¬¡å¹‚å°±æ˜¯ç»è¿‡kä¸ªä¸­é—´èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚å› æ­¤ï¼Œå¯ä»¥é€šè¿‡å¯¹Aè¿›è¡ŒçŸ©é˜µä¹˜æ³•å¿«é€Ÿå¹‚çš„è¿ç®—ï¼Œæ¥å¿«é€Ÿå¾—åˆ°ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å°†å›¾çš„é‚»æ¥çŸ©é˜µå­˜å‚¨ä¸ºä¸€ä¸ªn x nçš„çŸ©é˜µAã€‚</li>
<li>å¯¹Aè¿›è¡Œkæ¬¡å¹‚è¿ç®—ï¼Œå¾—åˆ°çŸ©é˜µAkï¼Œè¡¨ç¤ºç»è¿‡kä¸ªä¸­é—´èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚</li>
<li>å¯¹äºä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹iå’Œjï¼ŒAk[i][j]è¡¨ç¤ºiåˆ°jçš„ç»è¿‡kä¸ªä¸­é—´èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚</li>
<li>å–æ‰€æœ‰Ak[i][j]ä¸­çš„æœ€å°å€¼ï¼Œå³ä¸ºèŠ‚ç‚¹iåˆ°èŠ‚ç‚¹jçš„æœ€çŸ­è·¯å¾„ã€‚</li>
</ol>
<p>ä½¿ç”¨çŸ©é˜µä¹˜æ³•å¿«é€Ÿå¹‚ä¼˜åŒ–Floydç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n^3logk)$ï¼Œå…¶ä¸­næ˜¯èŠ‚ç‚¹æ•°ï¼Œkæ˜¯ç»è¿‡çš„ä¸­é—´èŠ‚ç‚¹æ•°ã€‚ç›¸å¯¹äºåŸå§‹çš„Floydç®—æ³•ï¼Œä¼˜åŒ–åçš„ç®—æ³•å¯ä»¥å¤§å¤§å‡å°‘è®¡ç®—é‡ï¼Œä»è€Œæé«˜è¿è¡Œæ•ˆç‡ã€‚</p>
</blockquote>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 210</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> vv vector<span class="string">&lt;vector&lt;int&gt;</span>&gt;</span></span><br><span class="line"><span class="function">vv <span class="title">modle</span><span class="params">(N, vector&lt;<span class="type">int</span>&gt;(N, INT_MAX))</span></span>;</span><br><span class="line"><span class="function">vv <span class="title">graph</span><span class="params">(modle)</span></span>; <span class="comment">//graph[i][j] å­˜å‚¨ i-j è¾¹é•¿çš„å¤§å°</span></span><br><span class="line"><span class="function">vv <span class="title">res</span><span class="params">(modle)</span></span>;</span><br><span class="line">map&lt;<span class="type">int</span>, <span class="type">int</span>&gt; id;</span><br><span class="line"><span class="type">int</span> m, t, s, e, n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">mul</span><span class="params">(vv&amp; c, vv a, vv b)</span> <span class="comment">//ç±»Floydç®—æ³•ï¼ŒçŸ©é˜µä¹˜æ³• </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function"><span class="type">static</span> vv <span class="title">temp</span><span class="params">(modle)</span></span>;</span><br><span class="line">	temp.<span class="built_in">assign</span>(N, <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(N, INT_MAX));</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k&lt;n; k++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(a[i][k]!=INT_MAX)</span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j&lt;n; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>(b[k][j]!=INT_MAX)</span><br><span class="line">					temp[i][j] = <span class="built_in">min</span>(temp[i][j], a[i][k]+b[k][j]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	c = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">qmi</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++) res[i][i] = <span class="number">0</span>; <span class="comment">//ç»è¿‡næ¡è¾¹</span></span><br><span class="line">	<span class="keyword">while</span>(m)<span class="comment">//æ›´æ–°è¿‡ç¨‹</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(m&amp;<span class="number">1</span>) <span class="built_in">mul</span>(res, res, graph); <span class="comment">// res=res*graph; æ ¹æ®kå†³å®šæ˜¯å¦ä½¿ç”¨å½“å‰ g çš„ç»“æœå»æ›´æ–° res</span></span><br><span class="line">		<span class="built_in">mul</span>(graph, graph, graph);<span class="comment">// g = g*g; graph çš„æ›´æ–°</span></span><br><span class="line">		m &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; m &gt;&gt; t &gt;&gt; s &gt;&gt; e;</span><br><span class="line">    <span class="comment">//ç‚¹æ•°è¾ƒå¤šï¼Œä½†ä½¿ç”¨çš„ç‚¹è¾ƒå°‘ï¼Œå¯ä½¿ç”¨ map ç¦»æ•£åŒ–æ•°æ®</span></span><br><span class="line">	<span class="keyword">if</span>(!id.<span class="built_in">count</span>(s)) id[s] = n++;</span><br><span class="line">	<span class="keyword">if</span>(!id.<span class="built_in">count</span>(e)) id[e] = n++;</span><br><span class="line">	s = id[s], e = id[e];</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> a, b, c;</span><br><span class="line">		cin &gt;&gt; c &gt;&gt; a &gt;&gt; b;</span><br><span class="line">		<span class="keyword">if</span>(!id.<span class="built_in">count</span>(a)) id[a] = n++;</span><br><span class="line">		<span class="keyword">if</span>(!id.<span class="built_in">count</span>(b)) id[b] = n++;</span><br><span class="line">		a = id[a], b = id[b];</span><br><span class="line">		graph[a][b] = graph[b][a] = <span class="built_in">min</span>(graph[a][b], c);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">qmi</span>(); <span class="comment">//å¿«é€Ÿå¹‚+Floydç®—æ³•</span></span><br><span class="line">	cout &lt;&lt; res[s][e] &lt;&lt; endl; </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>





<h3 id="åŒˆç‰™åˆ©ç®—æ³•-1"><a href="#åŒˆç‰™åˆ©ç®—æ³•-1" class="headerlink" title="åŒˆç‰™åˆ©ç®—æ³•"></a>åŒˆç‰™åˆ©ç®—æ³•</h3><p><a class="link"   target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1129" >P1129 [ZJOI2007] çŸ©é˜µæ¸¸æˆ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> </p>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šçŸ©é˜µæ¸¸æˆåœ¨ä¸€ä¸ª $nÃ—n$ é»‘ç™½æ–¹é˜µè¿›è¡Œï¼ˆé¢œè‰²æœ‰é»‘ç™½ä¸¤ç§ï¼‰ï¼Œæ¯æ¬¡å¯ä»¥å¯¹çŸ©é˜µè¿›è¡Œä¸¤ç§æ“ä½œï¼šâ‘ è¡Œäº¤æ¢æ“ä½œï¼šäº¤æ¢çŸ©é˜µçš„ä»»æ„ä¸¤è¡Œï¼ˆå³äº¤æ¢å¯¹åº”æ ¼å­çš„é¢œè‰²ï¼‰â‘¡åˆ—äº¤æ¢ï¼šäº¤æ¢çŸ©é˜µä»»æ„ä¸¤åˆ—</p>
<p><strong>æ¸¸æˆç›®çš„</strong>ï¼šé€šè¿‡è‹¥å¹²æ¬¡æ“ä½œï¼Œä½¿å¾—æ–¹é˜µçš„ä¸»å¯¹è§’çº¿ï¼ˆå·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è¿çº¿ï¼‰ä¸Šçš„æ ¼å­å‡ä¸ºé»‘è‰²ã€‚</p>
<p>è¾“å…¥ï¼šç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° Tï¼Œè¡¨ç¤ºæ•°æ®çš„ç»„æ•°ï¼Œå¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å…¥æ ¼å¼å¦‚ä¸‹ï¼š</p>
<p>ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ–¹é˜µçš„å¤§å° nï¼Œæ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡Œ n ä¸ªé 0 å³ 1 çš„æ•´æ•°ï¼Œä»£è¡¨è¯¥æ–¹é˜µã€‚å…¶ä¸­ï¼Œ0ä»£è¡¨ç™½è‰²ï¼Œ1 ä»£è¡¨é»‘è‰²ã€‚</p>
<p><strong>è¾“å‡º</strong>ï¼šå¯¹äºæ¯ç»„æ•°æ®ï¼Œè‹¥å…³å¡æœ‰è§£åˆ™è¾“å‡º <code>Yes</code>ï¼Œå¦åˆ™è¾“å‡º <code>No</code>ã€‚</p>
<p><strong>åˆ†æ</strong>ï¼šæˆ‘ä»¬æŠŠçŸ©é˜µè½¬åŒ–ä¸º äºŒåˆ†å›¾ï¼ˆå·¦ä¾§é›†åˆä»£è¡¨å„è¡Œï¼Œå³ä¾§é›†åˆä»£è¡¨å„åˆ—ï¼ŒæŸä½ç½®ä¸º 1 ä»£è¡¨è¯¥è¡Œå’Œè¯¥åˆ—ä¹‹é—´æœ‰è¾¹ï¼‰ã€‚è¿›è¡Œä¸€ç³»åˆ— äº¤æ¢æ“ä½œï¼Œä½¿å¾— X1 è¿ä¸Š Y1ï¼ŒX2è¿ä¸ŠY2ï¼Œâ€¦</p>
<p>å¤§å®¶å¯ä»¥æƒ³è±¡ï¼Œæ‰€è°“çš„äº¤æ¢ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç­‰ä»·ä¸º <strong>é‡å‘½å</strong>ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨ä¿æŒå½“å‰äºŒåˆ†å›¾ç»“æ„çš„æƒ…å†µä¸‹ï¼ŒæŠŠå³ä¾§ç‚¹çš„ç¼–å·è¿›è¡Œæ”¹å˜ï¼Œè€…ä¸äº¤æ¢çš„æ•ˆæœæ˜¯ç­‰ä»·çš„ã€‚æ‰€ä»¥è®© X1ï¼ŒX2â€¦ä¸ Y1ï¼ŒY2â€¦ä¸€ä¸€å¯¹åº”ï¼Œå…¶å®åªéœ€è¦åŸå›¾æœ€å¤§åŒ¹é…æ•°ä¸º 4å°±è¡Œäº†ã€‚</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://pic2.zhimg.com/v2-558540e634e5537df60a0f61bfa1829d_b.jpg"
                      alt="img" style="zoom:50%;" 
                >

<p><strong>ä»£ç </strong>ï¼š</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> Map[<span class="number">205</span>][<span class="number">205</span>], p[<span class="number">205</span>], vis[<span class="number">205</span>], N, T;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">match</span><span class="params">(<span class="type">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j&lt;=N; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(Map[i][j] &amp;&amp; !vis[j])</span><br><span class="line">        &#123;</span><br><span class="line">            vis[j] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(p[j] == <span class="number">0</span> &amp;&amp; <span class="built_in">match</span>(p[j]))</span><br><span class="line">            &#123;</span><br><span class="line">                p[j] = i;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Hungarian</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in">sizeof</span>(vis));</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">match</span>(i)) cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; N;</span><br><span class="line">        <span class="built_in">memset</span>(p, <span class="number">0</span>, <span class="built_in">sizeof</span>(p));</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=N; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j&lt;=N; j++)</span><br><span class="line">                cin &gt;&gt; Map[i][j];</span><br><span class="line">        <span class="type">int</span> res = <span class="built_in">Hungarian</span>();</span><br><span class="line">        <span class="keyword">if</span>(res == N) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p><a class="link"   target="_blank" rel="noopener" href="https://vijos.org/p/1204" >(vijos1204)CoVHä¹‹æŸ¯å—å¼€é” <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> </p>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šæœ‰ä¸€ä¸ªçŸ©é˜µé”ï¼Œç”± M*N ä¸ªæ ¼å­ç»„æˆï¼Œå…¶ä¸­æŸäº›æ ¼å­å‡¸èµ·ï¼ˆç°è‰²ï¼‰ï¼Œæ¯ä¸€æ¬¡æ“ä½œå¯ä»¥æŠŠä¸€è¡Œæ ¼å­ç»™æŒ‰ä¸‹å»ã€‚æ±‚æŠŠæ‰€æœ‰å‡¸èµ·æ ¼å­æŒ‰ä¸‹å»æ‰€éœ€çš„æœ€å°‘æ¬¡æ•°ã€‚</p>
<p><strong>è¾“å…¥</strong>ï¼šç¬¬ä¸€è¡Œ ä¸¤ä¸ªä¸è¶…è¿‡ 100 çš„æ•´æ•° Nï¼ŒMè¡¨ç¤ºçŸ©é˜µçš„ é•¿å’Œå®½<br>ä»¥ä¸‹ N è¡Œï¼Œæ¯è¡Œ M ä¸ªæ•°ï¼Œé 0 å³ 1ï¼Œ1è¡¨ç¤ºå‡¸èµ·æ–¹æ ¼</p>
<p><strong>è¾“å‡º</strong>ï¼šä¸€ä¸ªæ•´æ•°ï¼Œæ‰€éœ€çš„æœ€å°æ¬¡æ•°</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdn.vijos.org/fs/1557c96115c93850f07546ed228ba7797f616190"
                      alt="å›¾ç‰‡"
                ></p>
<p>æŠŠæ ·ä¾‹è½¬åŒ–ä¸º äºŒåˆ†å›¾çš„å½¢å¼ä¸ºï¼š</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://pic2.zhimg.com/v2-c7cd484003b71bf480546ac21fd19669_b.jpg"
                      alt="img" style="zoom:33%;" 
                >

<p>æŒ‰ä¸‹ä¸€è¡Œå…¶å®å°±æ˜¯åˆ æ‰ä¸æŸä¸€ä¸ªç‚¹ç›¸è¿çš„æ‰€æœ‰è¾¹ï¼Œç°åœ¨è¦æ±‚æœ€å°‘çš„æ“ä½œæ¬¡æ•°ï¼Œå°±ç›¸å½“äºæ±‚ æœ€å°ç‚¹è¦†ç›–æ•°ã€‚ç›´æ¥ç”¨åŒˆç‰™åˆ©ç®—æ³•å³å¯ã€‚</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> matrix[<span class="number">102</span>][<span class="number">102</span>];</span><br><span class="line"><span class="type">int</span> p[<span class="number">102</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> vis[<span class="number">102</span>];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="comment">//åŒˆç‰™åˆ©ç®—æ³•æ¨¡æ¿ï¼Œå’Œä¸Šä¸€é“é¢˜ç›®ç±»ä¼¼</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">match</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=m; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(matrix[x][i] &amp;&amp; !vis[i])</span><br><span class="line">		&#123;</span><br><span class="line">			vis[i] = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">if</span>(p[i] == <span class="number">0</span> || <span class="built_in">match</span>(p[i]))</span><br><span class="line">			&#123;</span><br><span class="line">				p[i] = x;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Hungarian</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="built_in">sizeof</span>(vis));</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">match</span>(i))</span><br><span class="line">            cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">1</span>; j&lt;=m; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">char</span> c;</span><br><span class="line">			cin &gt;&gt; c;</span><br><span class="line">			matrix[i][j] = c-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	cout &lt;&lt; <span class="built_in">Hungarian</span>() &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p>ï¼ˆTYVJ P1035ï¼‰æ£‹ç›˜è¦†ç›–</p>
<p><strong>é¢˜ç›®</strong>ï¼šç»™å‡ºä¸€å¼  n*nï¼ˆn&lt;&#x3D;100ï¼‰ çš„å›½é™…è±¡æ£‹æ£‹ç›˜ï¼Œå…¶ä¸­è¢«åˆ é™¤äº†ä¸€äº›ç‚¹ï¼Œé—®å¯ä»¥ä½¿ç”¨å¤šå°‘ 1*2 çš„å¤šç±³è¯ºéª¨ç‰Œè¿›è¡Œæ©ç›–ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong>ï¼šç¬¬ä¸€è¡Œä¸º nï¼Œmï¼ˆè¡¨ç¤ºæœ‰ m ä¸ªåˆ é™¤çš„æ ¼å­ï¼‰<br>ç¬¬äºŒè¡Œåˆ° m+1 è¡Œä¸º x,yï¼Œåˆ†åˆ«è¡¨ç¤ºåˆ é™¤æ ¼å­æ‰€åœ¨çš„ä½ç½®ï¼Œx ä¸º ç¬¬ x è¡Œï¼Œy ä¸ºç¬¬ y åˆ—ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong>ï¼šä¸€ä¸ªæ•°ï¼Œå³æœ€å¤§è¦†ç›–ä¸ªæ•°</p>
<p>æŠŠæ£‹ç›˜æŸ“è‰²ï¼Œæ¯ä¸ªå¤šç±³è¯ºéª¨ç‰Œæ°å¥½è¦†ç›–ä¸€ä¸ªç™½æ ¼å’Œä¸€ä¸ªé»‘æ ¼ã€‚</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://pic2.zhimg.com/v2-94394273ebce1f9cfd2ee50dfd1f22e1_b.jpg"
                      alt="img" style="zoom: 50%;" 
                >

<p>åˆ é™¤ä¸€äº›æ ¼å­ï¼š</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://pic4.zhimg.com/v2-952b78faeed7a68af4349357e34efe8f_b.jpg"
                      alt="img" style="zoom:50%;" 
                >

<p>ç°åœ¨æ±‚å¤šç±³è¯ºéª¨ç‰Œæœ€å¤§è¦†ç›–æ•°ã€‚</p>
<p>æŸ“è‰²ä¹‹åï¼Œé»‘æ ¼ä¸ç™½æ ¼å¯ä»¥æ„æˆä¸€ä¸ªäºŒåˆ†å›¾ï¼Œæ¯ä¸ªç™½æ ¼éƒ½åªä¸é»‘æ ¼ç›¸è¿ï¼Œæ¯ä¸ªé»‘æ ¼ä¹Ÿåªä¸ç™½æ ¼ç›¸è¿ã€‚åœ¨ç»™æ‰€æœ‰é»‘æ ¼å’Œç™½æ ¼ç¼–å·åï¼Œæˆ‘ä»¬æŠŠæ¯ä¸ªæœªåˆ é™¤çš„æ ¼å­éƒ½ä¸å®ƒä¸Šä¸‹å·¦å³ç´§é‚»çš„æœªåˆ é™¤çš„æ ¼å­ç›¸è¿ã€‚å¾ˆæ˜¾ç„¶ï¼Œè¿™å¼ äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°ï¼Œå°±æ˜¯æˆ‘ä»¬èƒ½æ”¾ä¸‹æœ€å¤šå¤šç±³è¯ºéª¨ç‰Œæ•°ã€‚æ³¨æ„ï¼Œå› ä¸ºæ•°æ®èŒƒå›´æ¯”è¾ƒå¤§ï¼Œè¦ç”¨é‚»æ¥è¡¨å­˜å›¾ã€‚</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">vector&lt;<span class="type">bool</span>&gt; del; <span class="comment">//å­˜å‚¨ç‚¹æ˜¯å¦è¢«åˆ é™¤ </span></span><br><span class="line">vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; graph; <span class="comment">//å­˜å›¾ï¼Œç¬¬ä¸€ä¸ªä¸‹æ ‡å³ç‚¹å¯¹åº”idxçš„å€¼</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; link;<span class="comment">//å­˜å‚¨ä¸è¯¥ç‚¹ç›¸è¿çš„ç‚¹</span></span><br><span class="line">vector&lt;<span class="type">bool</span>&gt; vis;<span class="comment">//å­˜å‚¨ç‚¹æ˜¯å¦è®¿é—®è¿‡</span></span><br><span class="line"><span class="type">static</span> <span class="keyword">constexpr</span> <span class="type">int</span> dirs[<span class="number">4</span>][<span class="number">2</span>] = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">-1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, <span class="number">-1</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//å¸¸ç”¨çš„åæ ‡æ•°ç»„ï¼Œæ–¹ä¾¿ä¹¦å†™ä»£ç </span></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">idx</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> x*n + y; <span class="comment">//è½¬æ¢åæ ‡ï¼Œè½¬æ¢äºŒç»´åæ ‡ä¸ºä¸€ç»´åæ ‡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åŒˆç‰™åˆ©ç®—æ³•æ¨¡æ¿</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">match</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i: graph[x])</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(!vis[i])</span><br><span class="line">		&#123;</span><br><span class="line">			vis[i] = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">if</span>(link[i] == <span class="number">-1</span> || <span class="built_in">match</span>(p[i]))</span><br><span class="line">			&#123;</span><br><span class="line">				link[i] = x;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">hungarian</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n*n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		vis.<span class="built_in">assign</span>(n*n, <span class="literal">false</span>);</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">match</span>(i)) cnt++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">	del.<span class="built_in">resize</span>(n*n), del.<span class="built_in">assign</span>(n*n, <span class="literal">false</span>);</span><br><span class="line">	graph.<span class="built_in">resize</span>(n*n), vis.<span class="built_in">resize</span>(n*n), link.<span class="built_in">resize</span>(n*n), link.<span class="built_in">assign</span>(n*n, <span class="number">-1</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;m; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> dx, dy;</span><br><span class="line">		cin &gt;&gt; dx &gt;&gt; dy;</span><br><span class="line">		dx--, dy--; <span class="comment">//è®°å¾—å‡ä¸€ï¼Œå› ä¸ºè¾“å…¥çš„åæ ‡ä» 1 å¼€å§‹</span></span><br><span class="line">		del[<span class="built_in">idx</span>(dx, dy)] = <span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++ )</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(!del[<span class="built_in">idx</span>(i,j)])<span class="comment">//å¦‚æœç‚¹èƒ½ç”¨</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k&lt;<span class="number">4</span>; k++)<span class="comment">//å­˜å‚¨ç›¸è¿çš„ç‚¹</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> nx = i+dirs[k][<span class="number">0</span>];</span><br><span class="line">				<span class="type">int</span> ny = j+dirs[k][<span class="number">1</span>];</span><br><span class="line">				<span class="keyword">if</span>(nx&gt;=<span class="number">0</span> &amp;&amp; nx&lt;n &amp;&amp; ny&gt;=<span class="number">0</span> &amp;&amp; ny&lt;n &amp;&amp; !del[<span class="built_in">idx</span>(nx,ny)])</span><br><span class="line">				&#123;</span><br><span class="line">					graph[<span class="built_in">idx</span>(i,j)].<span class="built_in">emplace_back</span>(<span class="built_in">idx</span>(nx,ny));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; <span class="built_in">hungarian</span>()/<span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<h3 id="åŒä½™æœ€çŸ­è·¯-1"><a href="#åŒä½™æœ€çŸ­è·¯-1" class="headerlink" title="åŒä½™æœ€çŸ­è·¯"></a>åŒä½™æœ€çŸ­è·¯</h3><p><a class="link"   target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3403" >P3403 è·³æ¥¼æœº <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><strong>é¢˜ç›®å¤§æ„</strong>ï¼šç»™å®š $xï¼Œyï¼Œzï¼Œh$ï¼Œå¯¹äº $k \in [1,h]$ï¼Œæœ‰å¤šå°‘ä¸ª $k$ èƒ½å¤Ÿæ»¡è¶³ $ax+by+cz&#x3D;k$ã€‚ï¼ˆ$0\leq a,b,cï¼Œ1\le x,y,z\le 10^5ï¼Œh\le 2^{63}-1$ï¼‰</p>
<p><strong>åˆ†æ</strong>ï¼šé¦–å…ˆå¯ä»¥å°† $h$ å‡å» $1$ï¼ŒåŒæ—¶èµ·å§‹æ¥¼å±‚è®¾ä¸º 0ã€‚è®¾ $d_i$ ä¸ºèƒ½å¤Ÿåˆ°è¾¾çš„æœ€ä½çš„mod x &#x3D; i çš„æ¥¼å±‚ã€‚</p>
<p>åˆ™æœ‰ $i\stackrel{y}{\longrightarrow} (i+y)\mod x$ å’Œ $i\stackrel{z}{\longrightarrow} (i+z)\mod x$ ã€‚</p>
<p>åƒè¿™æ ·å»ºå›¾åï¼Œ$d_i$ å°±ç›¸å½“äº $0\longrightarrow i$ çš„æœ€çŸ­è·¯ï¼ŒSPFA å³å¯ã€‚</p>
<p>æœ€åç»Ÿè®¡æ—¶ï¼Œ å¯¹äº $d_i â‰¤ h$ ï¼Œç­”æ¡ˆå³ä¸ºï¼š$\sum_{i&#x3D;0}^{x-1}\left(\frac{h-d_i}{x} + 1\right)$<br>åŠ  1 æ˜¯ç”±äº $d_i$ æ‰€åœ¨æ¥¼å±‚ä¹Ÿç®—ä¸€æ¬¡ã€‚</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">vector&lt;vector&lt;pair&lt;<span class="type">long</span> <span class="type">long</span> <span class="type">int</span>,<span class="type">long</span> <span class="type">long</span> <span class="type">int</span>&gt;&gt;&gt; graph;</span><br><span class="line">vector&lt;<span class="type">long</span> <span class="type">long</span> <span class="type">int</span>&gt; dis;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> <span class="type">int</span> h, x, y, z;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">spfa</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	queue&lt;<span class="type">long</span> <span class="type">long</span> <span class="type">int</span>&gt; q;</span><br><span class="line">	<span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">inque</span><span class="params">(x, <span class="literal">false</span>)</span></span>;</span><br><span class="line">	q.<span class="built_in">emplace</span>(<span class="number">1</span>);</span><br><span class="line">	dis[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(!q.<span class="built_in">empty</span>())</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">long</span> <span class="type">long</span> <span class="type">int</span> cur = q.<span class="built_in">front</span>();</span><br><span class="line">		q.<span class="built_in">pop</span>();</span><br><span class="line">		inque[cur] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">auto</span> t: graph[cur])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">long</span> <span class="type">long</span> <span class="type">int</span> nx = t.second;</span><br><span class="line">			<span class="type">long</span> <span class="type">long</span> <span class="type">int</span> len = t.first;</span><br><span class="line">			<span class="keyword">if</span>(dis[nx] &gt; dis[cur]+len)</span><br><span class="line">			&#123;</span><br><span class="line">				dis[nx] = dis[cur]+len;</span><br><span class="line">				<span class="keyword">if</span>(!inque[nx])</span><br><span class="line">				&#123;</span><br><span class="line">					q.<span class="built_in">emplace</span>(nx);</span><br><span class="line">					inque[nx] = <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%lld%lld&quot;</span>, &amp;h, &amp;x, &amp;y, &amp;z);</span><br><span class="line">	<span class="keyword">if</span>(x==<span class="number">1</span>||y==<span class="number">1</span>||z==<span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		cout&lt;&lt; h &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	graph.<span class="built_in">resize</span>(x+<span class="number">1</span>), dis.<span class="built_in">resize</span>(x+<span class="number">1</span>),dis.<span class="built_in">assign</span>(x+<span class="number">1</span>, LONG_LONG_MAX/<span class="number">2</span>);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;x; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		graph[i].<span class="built_in">emplace_back</span>(y, (i+y)%x);</span><br><span class="line">		graph[i].<span class="built_in">emplace_back</span>(z, (i+z)%x);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">spfa</span>();</span><br><span class="line">	</span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> <span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i&lt;x; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span>(dis[i]&lt;=h)</span><br><span class="line">			ans += (h-dis[i])/x + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, ans);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>



<p>ï¼ˆ<a class="link"   href="https://link.zhihu.com/?target=https://atcoder.jp/contests/arc084/tasks/arc084_b" >ARC84B Small Multiple <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>ï¼‰</p>
<p>é¢˜ç›®å¤§æ„ï¼šç»™ä¸€ä¸ªkï¼Œå¯¹äºæ‰€æœ‰kçš„å€æ•°ï¼Œæ±‚è¿™äº›æ•°ä¸­åè¿›åˆ¶ä¸‹å„ä½å’Œçš„æœ€å°å€¼ã€‚</p>
<div class="highlight-container" data-rel="C++"><figure class="iseeu highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//éœ€è¦åœ¨ä¸Šé¢çš„ä»£ç åŸºç¡€ä¸Šæ”¹åŠ¨çš„åœ°æ–¹ï¼š</span></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–graphæ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i&lt;k; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(i != (i+<span class="number">1</span>)%k) graph[i].<span class="built_in">emplace_back</span>(<span class="number">1</span>, (i+<span class="number">1</span>)%k);</span><br><span class="line">    <span class="keyword">if</span>(i != (<span class="number">10</span>*i)%k) graph[i].<span class="built_in">emplace_back</span>(<span class="number">0</span>, (<span class="number">10</span>*i)%k);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç»“æœè¾“å‡º</span></span><br><span class="line">cout &lt;&lt; <span class="number">1</span>+dis[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// spfa çš„æ”¹åŠ¨çš„åœ°æ–¹:åˆå§‹åŒ–</span></span><br><span class="line">dis[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">q.<span class="built_in">emplace</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure></div>


        </div>

        
            <div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> å›¾è®ºå­¦ä¹ </li>
        <li><strong>Author:</strong> å¡å¸ƒå»_ç±³è²</li>
        <li><strong>Created at
                :</strong> 2023-04-08 09:54:55</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2023-05-13 16:33:36
            </li>
        
        <li>
            <strong>Link:</strong> https://carolinebaby.github.io/2023/04/08/å›¾/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/">#ç®—æ³•å­¦ä¹ </a>&nbsp;
                    </li>
                
            </ul>
        

        

        
            <div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
                
                    <div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="prev"
                        rel="prev"
                        href="/2023/04/10/%E7%AE%97%E6%B3%95%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%A6/"
                        >
                            <span class="left arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-left"></i>
                            </span>
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">ç®—æ³•ä¸­çš„æ•°å­¦</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="next"
                        rel="next"
                        href="/2023/03/29/%E6%A0%91/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">æ ‘</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
            <div class="comment-container px-2 sm:px-6 md:px-8 pb-8">
                <div class="comments-container mt-10 w-full ">
    <div id="comment-anchor" class="w-full h-2.5"></div>
    <div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">
        Comments
    </div>
    

        
            
    <div id="waline"></div>
    <script type="module" data-swup-reload-script>
      import { init } from '/js/libs/waline.mjs';

      function loadWaline() {
        init({
          el: '#waline',
          serverURL: 'https://caroline-world-42jy0ja18-carolinebaby.vercel.app',
          lang: 'zh-CN',
          dark: 'body[class~="dark-mode"]',
          requiredMeta: ['nick', 'mail'],
          emoji: [],
          recaptchaV3Key: "wasd",
          
        });
      }

      if (typeof swup !== 'undefined') {
        loadWaline();
      } else {
        window.addEventListener('DOMContentLoaded', loadWaline);
      }
    </script>



        
    
</div>

            </div>
        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">å›¾è®ºå­¦ä¹ </div>
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BE%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E6%A6%82%E5%BF%B5%F0%9F%A7%90"><span class="nav-text">å›¾çš„å®šä¹‰å’Œæ¦‚å¿µğŸ§</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BE%E7%9A%84%E7%AE%97%E6%B3%95%E9%A2%98-%F0%9F%A4%94"><span class="nav-text">å›¾çš„ç®—æ³•é¢˜ ğŸ¤”</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%BE%E7%AE%97%E6%B3%95%E7%BB%8F%E5%85%B8%E9%97%AE%E9%A2%98%F0%9F%93%93"><span class="nav-text">å›¾ç®—æ³•ç»å…¸é—®é¢˜ğŸ““</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#dfs%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2"><span class="nav-text">dfsæ·±åº¦ä¼˜å…ˆæœç´¢</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F"><span class="nav-text">æ‹“æ‰‘æ’åº</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E5%88%86%E5%9B%BE"><span class="nav-text">äºŒåˆ†å›¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95"><span class="nav-text">åŒˆç‰™åˆ©ç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="nav-text">å¹¶æŸ¥é›†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91"><span class="nav-text">æœ€å°ç”Ÿæˆæ ‘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dijkstra-%E7%AE%97%E6%B3%95"><span class="nav-text">Dijkstra ç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SPFA-%E7%AE%97%E6%B3%95"><span class="nav-text">SPFA ç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#A-%E7%AE%97%E6%B3%95"><span class="nav-text">A* ç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#floyd%E7%AE%97%E6%B3%95"><span class="nav-text">floydç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tarjan%E7%AE%97%E6%B3%95"><span class="nav-text">Tarjanç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F%E7%AE%97%E6%B3%95"><span class="nav-text">å·®åˆ†çº¦æŸç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E4%BD%99%E6%9C%80%E7%9F%AD%E8%B7%AF"><span class="nav-text">åŒä½™æœ€çŸ­è·¯</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3%F0%9F%94%91"><span class="nav-text">ç®—æ³•é¢˜è§£ğŸ”‘</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2%E5%9F%BA%E7%A1%80dfs-basic"><span class="nav-text">æ·±åº¦ä¼˜å…ˆæœç´¢åŸºç¡€dfs basic</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91-1"><span class="nav-text">æœ€å°ç”Ÿæˆæ ‘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dijkstra-%E7%AE%97%E6%B3%95-1"><span class="nav-text">Dijkstra ç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SPFA%E7%AE%97%E6%B3%95"><span class="nav-text">SPFAç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E5%88%86%E6%B3%95-%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97"><span class="nav-text">äºŒåˆ†æ³•+åŒç«¯é˜Ÿåˆ—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Floyd-%E7%AE%97%E6%B3%95"><span class="nav-text">Floyd ç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95-1"><span class="nav-text">åŒˆç‰™åˆ©ç®—æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E4%BD%99%E6%9C%80%E7%9F%AD%E8%B7%AF-1"><span class="nav-text">åŒä½™æœ€çŸ­è·¯</span></a></li></ol></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2023</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">å¡å¸ƒå»_ç±³è²</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        16 posts in total
                    </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="åœ–å±¤_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.6.1</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>







<script src="/js/tools/imageViewer.js" type="module"></script>

<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>





    
<script src="/js/tools/codeBlock.js" type="module"></script>




    
<script src="/js/layouts/lazyload.js" type="module"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js" type="module"></script>









<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


</body>
</html>
